traceprint("BeginHoldupLogcat+1715276517152765")package.path = package.path..";"..getrcpath("rc:").."?.lua" 

-- 全局函数
Global = {
    ScreenWidth = 0,
    ScreenHeight = 0,
    PackageName = "com.smwl.x7market",
    CurrentAccount = "",
    TaskList = {},
    AccountList = {},
    CurrentTask = "",
    SourcePath = "",
    OpenRetry = false,
    RetryTimes = 0,
    XiaoQiAccounts = {
		List = {},
        CurrentIndex = 1,
        SubCurrentIndex = 1
    },
    ChangeXiaoQiAccount = false;
};

-- 状态机
Unit = {
    State = {},
    Param = {}
};
Unit.State.Name = "";
function ProcessState(processState, processStateTable, processStateParam)
    if processState[processStateTable] ~= nil then
        return processState[processStateTable](processStateParam);
    end
    return "error"
end

-- 检测游戏是否启动成功
function Unit.State.Test()
    -- Unit.State.XiaoQiLogin()
    -- InitXiaoQiLogin();
    
    CloseAllDialogAndBackToIndex();
    
    return "Test";
end

Unit.Param.Test = {};



-- 程序入口
function floatwinrun()
    --引入一个插件
    require("XM");
    require("Ares2")
    local imei = getimei()
    
    Ares.Init();    
    
    -- 设置特征版本
    local mnqType = getselectscheckitemindex("sel_moniqibanben");
    
    if mnqType == 0 then
        feature = feature_leidian;
    elseif mnqType == 1 then
        feature = feature_hongshouzhi;
    end
    
    
    -- 验证口令
    if editgettext("txt_kouling") ~= feature.keys.keyword then
        for i=0,20,1 do
            Ares2.MessageBox("口令错误，请到游戏中找我要")
            Ares2.Sleep();
        end
        return;
	end
    
    -- 验证辅助是否过期
    local curTime = Ares2.Http.Get("http://47.93.240.116/gameapi/GetCurrentTime");
    local sysCurTime = {day=curTime.day, month=curTime.month, year=curTime.year, hour=0, minute=0, second=0}
    if os.time(sysCurTime) > feature.keys.time_key then
        for i=0,20,1 do
            Ares2.MessageBox("辅助初始化错误，应该是被封了")
            Ares2.Sleep();
        end
        return;
    end
    
    -- 任务配置
    InitTasks();
    
    -- 初始换屏幕的宽高
    setrotatescreen();
    
    -- 获取资源根目录
    Global.SourcePath = Ares2.GetResourcePath(); 
    
    -- 测试模式
    if checkgetselected("dev_test") == true then
        Unit.State.Name = "Test";
        -- 任务模式
    elseif checkgetselected("dev_task") == true then 
        Unit.State.Name = "HandleTasks";
        -- 调试模式
    elseif checkgetselected("dev_debug") == true then 
        Unit.State.Name = editgettext("textDebug");
    else 
        if checkgetselected("multiAccount") then
			-- 账号配置
			InitXiaoQiLogin();
			Unit.State.Name = "XiaoQiLogin";
		else
            InitAccounts();
			Unit.State.Name = "OpenGame";
		end
    end 
    
    while true do
        Unit.State.Name = ProcessState(Unit.State,Unit.State.Name,Unit.Param[Unit.State.Name]);
    end
end




feature = {};




-- 特征
feature_leidian ={
	keys={
		time_key = os.time({day=2, month=3, year=2020, hour=0, minute=0, second=0}),
        keyword = "Ares巨他妈帅",
        version = "inner"
    },
	system = {
		swipeUp = {360,540,360,1080},
		swipeDown = {360,540,360,1080},
        tuichuditu = {
			icon = {"退出地图",597,174,721,228,"FFE39B-000000","42|-1|FFE5A1-000000,87|1|FDD879-000000,31|8|FFD462-000000",0.9,0},
            tuichuqueren = {465,751,1}
        },
        close1 = {"关闭按钮1",622,136,716,220,"E38070-000000","0|16|ECD8B5-000000,0|34|B44D50-000000,20|18|B65556-000000",0.9,0},
        return_down_icon = {662,1012,1},
        return_down = {"退出按钮-下",603,986,709,1041,"FFE8AA-000000","63|-834|ECD8B5-000000,23|-6|FFEFB8-000000,60|-18|FEE7AB-000000,81|2|FDD97C-000000",0.9,0},
		return_back_click = {670,1208,1},
        -- 签到等的返回按钮
        back1 = {644,1088,1},
        -- 最下面的返回按钮
        back2 = {682,1212,1}
	},
    小七手游 = {
		签到 = {"签到",636,72,700,119,"09D79F-000000","9|-9|07D99B-000000,27|-8|07D99B-000000,17|7|FFFFFF-000000,16|15|0BD89E-000000"},
		游戏标签 = {78,1222,1,true},
		H5未选择 = {595,202,666,254,"H5","9c9c9c-111111"},
        H5已选择 = {552,183,645,249,"H5大","12cdb0-222222|54dbc6-111111"},
        魂之纪元 = {"魂之纪元",2,258,188,444,"C6374E-000000","38|1|6F7190-000000,87|8|840E06-000000,85|61|B43F59-000000"},
        小号列表 = {"小号列表",11,67,80,125,"12CDB0-000000","17|-15|12CDB0-000000,31|-14|37D5BC-000000,21|3|12CDB0-000000,11|-1|FFFFFF-000000"},
        
        我的 = {641,1215,1},
        编辑 = {293,204,1},
        退出登录 = {379,1192,1},
        确定退出登录 = {367,1100,1},
        点击登录 = {367,144,1},
        验证码登录 = {"验证码登录",635,304,657,322,"12CDB0-000000","4|0|12CDB0-000000,7|-1|12CDB0-000000,5|4|12CDB0-000000"},
        密码登录 = {283,758,1},
        清空账号 = {615,314,1},
        清空密码 = {615,428,1},
        登录 = {376,578,1}
        
    },
    聊天 = {
		关闭聊天 = {676,555,1},
        聊天定位1 = {"聊天定位1",652,524,698,568,"9D6840-000000","8|8|A16A40-000000,17|1|9C653D-000000,0|7|E9DAB7-000000,8|12|E9DAB7-000000,6|17|9C653D-000000"},
        聊天定位2 = {"聊天定位2",75,564,145,633,"FEBF69-000000","1|11|F6A742-000000,0|31|F29E38-000000,9|18|F49F38-000000"},
		打开聊天 = {366,1132,1},
        聊天输入 = {302,1104,1},
        世界聊天 = {82,604,1},
        跨服聊天 = {74,830,1},
        发送 = {632,1114,1}
        
    },
    异常处理 = {
		提示1 = {"异常处理提示1",162,718,338,782,"ED8E09-000000","2|16|F3971B-000000,2|30|F6A12B-000000,14|10|F19414-000000,14|26|F59E26-000000"}
    },
    -- 开始冒险
    游戏进入页 = {
		老账号_公告 = {"公告",273,733,391,822,"F15049-000000","-1|6|C61A1B-000000,-1|11|BC1819-000000,5|8|BA100E-000000,24|-3|EC373B-000000"},
        老账号_开始冒险 = {"开始冒险",205,1054,300,1144,"5C97EF-000000","1|18|457ACE-000000,1|38|60A4E7-000000,-40|19|F9E1A2-000000,-40|19|F9E1A2-000000"},
        老帐号_开始冒险_点击 = {364,1102,1},
        新账号_骰子 = {"骰子",502,1060,574,1138,"D85621-000000","-18|4|F1F0EB-000000,16|6|DAE1E8-000000,8|32|727A81-000000"},
        新账号_开始游戏 = {"开始游戏",458,1158,510,1258,"5574BD-000000","0|14|5675BE-000000,20|20|19D6FE-000000,16|0|FFFAD5-000000"},
        新账号_开始游戏_点击 = {376,1206,1}
    },
    游戏首页 = {
		-- 副本按钮
		定位点1 = {"副本按钮",646,532,701,581,"9954C0-000000","11|1|F384F4-000000,23|12|D84AE6-000000,11|23|C177D9-000000"},
        -- 点券图标
        定位点2 = {"点券图标",273,3,306,40,"9F79D7-000000","5|0|D1C5E0-000000,11|0|A575E8-000000,9|9|8965C9-000000"}
    },
    角色账号 = {
		 {44,296,272,1280,"1","2f2f2f-555555",0.9},
		 {44,296,272,1280,"2","2f2f2f-555555",0.9},
		 {44,296,272,1280,"3","2f2f2f-555555",0.9},
		 {44,296,272,1280,"4","2f2f2f-555555",0.9},
		 {44,296,272,1280,"5","2f2f2f-555555",0.9},
		 {44,296,272,1280,"6","2f2f2f-555555",0.9},
		 {44,296,272,1280,"7","2f2f2f-555555",0.9},
		 {44,296,272,1280,"8","2f2f2f-555555",0.9},
		 {44,296,272,1280,"9","2f2f2f-555555",0.9}
    },
    副本 = {
		图标 = {674,556,1},
        关闭 = {671,182,1},
		定位点1 = {"副本定位1",104,137,197,176,"64412E-000000","23|0|684633-000000,43|5|64412E-000000,52|19|64412E-000000,386|-138|100C09-000000"},
		定位点2 = {"副本定位2",648,149,696,203,"EA8773-000000","-13|15|B75657-000000,16|15|B75657-000000,2|13|F0DEBC-000000,-166|-155|100C09-000000"},
		装备副本 = {
			图标 = {102,1098,2,true},
            可以挑战 = {"装备副本可挑战",114,1053,168,1098,"FD8858-000000","1|12|C31C04-000000,7|5|D8452A-000000,4|5|DE4C30-000000"},
			副本类别 = {164,318,1},
            难度 = {608,404,1},
            开始挑战 = {494,952,1},
            挑战中定位点1 = {"挑战中定位点1"},
            挑战中定位点2 = {"挑战中定位点2"}
        },
        魂卡副本 = {
			图标 = {246,1094,2,true},
            可以挑战 = {"魂卡副本可挑战",248,1047,302,1096,"F05D3C-000000","11|0|DA472B-000000,6|7|C72006-000000,6|2|DF4D30-000000"},
			副本类别 = {164,318,1},
            难度 = {313,252,1},
            开始挑战 = {496,956,1},
            挑战中定位点1 = {"挑战中定位点1"},
            挑战中定位点2 = {"挑战中定位点2"}
        },
        经验副本 = {
			图标 = {374,1098,2,true},
            可以挑战 = {"经验副本可挑战",388,1047,435,1091,"EF5C3C-000000","13|-1|D94427-000000,6|7|C71F05-000000,5|0|E75335-000000"},
			CD中 = {"经验副本CD",266,956,452,1026,"9C9C9C-000000","54|-4|9B9B9B-000000,108|2|9C9C9C-000000,126|34|AAAAAA-000000,208|-964|100C09-000000"},
            开始挑战 = {354,990,1},
            开始挑战确定 = {464,746,1},            
            挑战中定位点1 = {"挑战中定位点1",8,948,74,1015,"FEE463-000000","8|12|FFF16D-000000,7|24|FB9616-000000,22|9|FFF788-000000"},
            挑战中定位点2 = {"挑战中定位点2"},
            离开确定 = {484,790,1}
        },
        雷霆岛 = {
			图标 = {510,1084,2,true},
            可以挑战 = {"雷霆岛可挑战",526,1052,563,1088,"F05D3D-000000","15|0|D53F23-000000,6|10|C71A03-000000,5|3|DF4C30-000000"},
			开始挑战 = {522,988,1},
            开始挑战确定 = {464,750,1},            
            挑战中定位点1 = {"挑战中定位点1",8,948,74,1015,"FEE463-000000","8|12|FFF16D-000000,7|24|FB9616-000000,22|9|FFF788-000000"},
            挑战中定位点2 = {"挑战中定位点2"}
        }
    },
    BOSS = {
		图标 = {676,470,1},
		中立 = {
			图标 = {188,1234,1,true},
            定位点1 = {"中立BOSS定位点1",437,347,480,391,"EECD97-000000","17|2|EDC27D-000000,10|8|FBF5D8-000000,2|18|E3AD50-000000,17|18|E3AD50-000000"},
            定位点2 = {"中立BOSS定位点2",571,264,666,319,"C66131-000000","0|8|B55226-000000,-1|21|B85A29-000000,24|13|E5BCA7-000000,25|14|F7EBE5-000000"},
			挑战提示取消 = {"挑战取消提示",168,712,338,784,"ED8E09-000000","2|26|F59E26-000000,48|16|F3971B-000000,96|4|EE900E-000000,94|28|F69F28-000000"},
			挑战提示 = {"挑战提示",566,452,638,530,"E04000-000000","0|12|DA3B02-000000,22|30|CF2E00-000000,36|14|D93902-000000"},
			挑战提示确定 = {474,756,0},
			免费加血 = {"免费加血按钮",4,940,72,1012,"285816-000000","7|-17|2C5C19-000000,14|5|1D4C0C-000000,39|1|285815-000000"},
			免费加血确认 = {478,750,1},    
			点券加血 = {"点券加血按钮",106,944,184,1007,"7E2C23-000000","14|-16|7F2D23-000000,17|10|C30D07-000000,6|28|FFE3FC-000000"},
          
            挑战按钮 = {"挑战按钮",540,396,718,1088,"EF9110-000000","0|14|F49B21-000000,16|8|F29719-000000,22|10|FFFFFF-000000"}
			 
        }
    },
    水晶遗迹 = {
		图标 = {592,566,1},
        进入 = {393,1082,1},
        领取奖励定位点1 = {"领取奖励定位点1",638,159,711,218,"DA3B02-000000","18|-14|DD3F03-000000,37|4|D83802-000000,18|18|CF2F01-000000,19|1|FFDD87-000000"},
        领取奖励定位点2 = {"领取奖励定位点2",278,1033,445,1113,"F09313-000000","-2|17|F59D24-000000,20|8|F3981B-000000,42|6|FFFFFF-000000,88|5|FFFFFF-000000"},
        退出按钮 = {"退出遗迹",605,58,631,112,"FFF3BE-111111","0|11|FFE8AC-111111,1|20|FFD873-111111,7|2|FFF1B9-111111,8|10|FFEBAF-111111,44|23|FFD35E-111111"},
        领取奖励 = {360,1083,1},
        关闭领取奖励弹窗 = {344,873,1},
        女神位置 = {590,506,1},
        开始挖矿 = {491,1069,1},
        开始挖矿确认 = {475,753,1},
        退出挖矿 = {657,88,1}
    },
    试炼塔 = {
		图标 = {586,285,1},
        挑战 = {371,1183,1},
        通关提醒 = {"通关提醒",559,448,635,513,"DA3A02-000000","35|-1|DA3B02-000000,18|-16|DC3E04-000000,15|20|CD2D01-000000,16|1|FFDC84-000000"},
		关闭通关提醒 = {374,751,1}
	},
    好友 = {
		图标 = {44,1148,1},
		邮件 = {
			图标 = {582,974,2,true},
			一键领取 = {"一键领取",388,856,525,918,"EF8F0C-000000","2|20|F59D24-000000,17|3|EF910F-000000,21|19|FFFFFF-000000,43|12|F5A73C-000000"},
            领取确认 = {454,886,1},
			删除已读 = {264,892,1},
            未读邮件 = {"未读邮件",82,297,181,374,"FEDF35-000000","13|1|FEE034-000000,26|12|E7A21C-000000,4|20|E6A62F-000000,-8|13|E7A11C-000000"},
			删除未读 = {467,889,1},
            退出 = {692,227,1}
		},
    },
    背包 = {
		图标 = {561,1238,1},
        背包页 = {79,1229,1},
        拍卖 = {
			物品4可用 = {"物品4可用",436,234,522,259,"D14343-000000","12|0|D24343-000000,19|0|D54343-000000,32|0|D84343-000000"},
            物品4过期 = {"物品4过期",450,236,534,315,"686868-000000","7|7|6A6A6A-000000,16|14|909090-000000,27|25|6D6D6D-000000"},
            使用 = {584,315,1},
            批量未完成 = {"批量未完成",488,385,602,499,"D54343-000000","11|-1|DD4343-000000,30|15|FAE079-000000,46|34|DC4343-000000"},
            批量过期 = {"批量过期",560,860,696,924,"9F9F9F-000000","0|28|ACACAC-000000,28|28|AFAFAF-000000,106|4|9E9E9E-000000"},
            批量拿去拍卖 = {624,892,1},
            批量自己使用 = {460,894,1},
            关闭批量拍卖 = {644,336,1},
            物品1可用 = {"物品1可用",80,239,147,261,"D14343-000000","7|0|D24343-000000,17|0|D54343-000000,26|0|D74343-000000"},
            物品1过期 = {"物品1过期",74,242,161,271,"676767-000000","12|-1|676767-000000,27|2|696969-000000,41|9|696969-000000"},
            单个自己使用 = {251,815,1},
            单个拍卖 = {467,806,1}
        },
        批量熔炼 = {
			图标 = {147,1076,1},
            是否有装备 = {"有可熔炼装备",96,345,177,415,"67BC12-111111","8|7|70C803-111111,26|-10|84D833-111111,27|-14|89DD36-111111"},
            熔炼 = {478,972,1},
			关闭熔炼 = {600,262,1}
        }
    },
    角色 = {
		图标 = {73,1224,1},
        信息 = {
			图标 = {114,832,1},
            可操作 = {"可操作",158,804,185,830,"EC593A-000000","9|1|D64329-000000,6|4|CA2208-000000,7|0|DE4B2F-000000"},
            一键装备 = {352,758,1}
        },
        加点 = {
			图标 = {80,1224,1},
            可操作 = {"可操作",285,805,313,831,"FD8456-000000","9|1|E04C2D-000000,5|10|C71D04-000000,5|3|E55133-000000"},
            推荐 = {330,1066,1},
            保存 = {160,1066,1}
		}
    },
    锻造 = {
		图标 = {454,1232,1},
        强化 = {
			图标 = {76,1240,1},
            可以强化 = {"可以强化",306,874,413,988,"68FF33",1,0},
			突破 = {"强化进化",270,782,454,862,"F19618-111111","30|0|FCECD5-111111,60|-4|F09516-111111,110|-6|EF9212-111111",0.9,0},
			开始强化 = {372,1054,1},
			无强化石 = {"无强化石",373,944,389,968,"F90100|F70502|F00300",0.9,0},
			等级不足 = {"等级不足",282,1026,453,1092,"6984D5-111111","-1|20|759CE1-111111,10|30|7BA9E7-111111",0.9,0}

        }
    },
    野战 = {
		图标Vip6 = {"图标Vip6",540,522,596,575,"D8D1BC-111111","2|1|F4EDB7-111111,-1|11|9F5B14-111111,8|9|6886D2-111111,12|3|B06E1A-111111,18|15|DEE6E8-111111"},
		图标Vip7 = {"图标Vip7",545,619,602,672,"D8D1BC-111111","2|1|F4EDB7-111111,-1|11|9F5B14-111111,8|9|6886D2-111111,12|3|B06E1A-111111,18|15|DEE6E8-111111"},
		挑战 = {582,902,1},
        跳过 = {"跳过野战",597,178,713,289,"FFEFB9-111111","4|10|FDE192-111111,4|20|F9D44E-111111,20|6|FFEBA7-111111,54|0|FFEFB9-111111,60|54|FFFBEA-111111"},
		关闭结果提示 = {356,1091,1},
        全部完成 = {"野战全部完成",567,413,636,481,"DF4003-111111","1|12|DA3A02-111111,17|13|FFD97E-111111,34|13|D93902-111111"},
            
    },
    竞技 = {
		图标 = {676,648,1},
        竞技商店 = {"竞技商店",96,1052,178,1111,"ED5555-111111","-5|8|FF4B4B-111111,13|1|F05757-111111,7|8|FBB2B2-111111,-6|28|C0602D-111111,27|19|D4993F-111111"},
        每日奖励 = {266,252,1},
        领奖 = {348,1094,1},
        匹配对手页 = {122,258,1},
        匹配对手按钮 = {372,1088,1},
        次数用尽 = {"次数用尽",569,419,638,481,"DE3F02-111111","-1|23|CD2C01-111111,19|24|CC2B01-111111,18|8|FFD778-111111,21|-22|1E2F42-111111"},
		关闭 = {630,179,1}
    },
	login = {
		h5 = {595,202,666,254,"H5","9c9c9c-111111",0.9},
        h5_big = {552,183,645,249,"H5大","12cdb0-222222|54dbc6-111111",0.9},
        game_icon = {0,0,720,1280,"魂之纪元","474747-222222",0.9},
        account_list = {3,23,114,146,"小号列表","12cdb0-222222",0.9},
        new_login={192,1044,524,1157,"开始冒险","ffffff-222222|cedaec-222222",0.9},
        old_login={192,1044,524,1157,"开始冒险","ffffff-222222|cedaec-222222",0.9}
    },
     
    index = {
		back1 = {649,1217,719,1276,"返回1","fcf4d8-222222|f2e0ae-222222",0.9},
		back2 = {581,1052,703,1115,"返回2","e2ebdc-222222|f2e0ae-222222",0.9}
    },
    wait_goto = {
		close = {450,671,712,815,"前往-关闭","fbd7b1-222222|f2e0ae-222222",0.9},
		vip_boss = {479,716,658,958,"前往-VIP Boss","845226-222222",0.9}
    },
    task = {
		-- 福利
        fuli = {
			icon = {50,246,1},
            meiriqiandao = {
				qiandaolingjiang = {"签到领奖",0,304,716,876,"96CD5B-000000","-3|17|437B11-000000,-1|62|C5753A-000000",0.9,0}
            },
            qifuxuyuan = {
				icon = {222,1172,1},
                lingbiqifu = {572,932,1}
            }
        },
		-- 角色
        juese = {
			icon = {73,1224,1},
            juese1 = {128,209,1},
            juese2 = {241,214,1},
            juese3 = {359,216,1},
            juese4 = {478,212,1},
            juese5 = {597,217,1},
            jiadian = {
				icon = {80,1224,1,true},
                jiadian = {252,842,1},
                tuijian = {330,1066,1},
                baocun = {160,1066,1},
				kejiadian = {"可加点",66,154,650,258,"EC5939-000000","9|-1|DC472A-000000,4|7|C71F05-000000,6|0|DF4B2E-000000"}
            },
            xinxi = {
				icon = {114,832,1},
                yijianzhuangbei = {352,758,1}
            } },
        -- 好友
        haoyou = {
			icon = {44,1148,1},
            youjian = {
				icon = {582,974,1},
                yijianlingqu = {454,886,1},
                shanchuyidu = {264,892,1}
            }
        },
        -- BOSS
        boss = {
			icon = {676,470,1},
            神殿 = {
				Tab图标 = {306,1226,1},
                -- 小红点
				可挑战 = {"可挑战",325,1176,362,1206,"F15E3C-000000","11|1|D9452A-000000,5|9|C41C04-000000,5|4|DB4A2F-000000"},
				神殿入口定位1 = {"神殿入口定位1",562,258,652,314,"C66131-000000","0|14|C15E2D-000000,-2|22|BB5A2B-000000,-18|12|B35221-000000"},
                神殿入口定位2 = {"神殿入口定位2",290,994,346,1040,"ECC47E-000000","26|-2|ECBE76-000000,14|10|FCF0CB-000000,2|14|E5AD50-000000,24|14|E5AE50-000000"},
				可以挑战颜色 = "4DCA34|4DCA34|4DCA34|4DCA34",
                开始挑战 = {611,1030,1},
                神殿完成 = {"神殿完成",203,1001,260,1033,"14BB03-000000","0|7|AF8E68-000000,-4|7|19E504-000000",0.9,0},
				进入场景 = {532,999,694,1057,"进入场景","fef5e9-555555",0.9},
                进入场景2 = {532,999,694,1057,"进入场景2","fef5e9-555555",0.9}
            },
            shendian = {
				icon = {306,1226,1},
                可挑战 = {"可挑战",325,1176,362,1206,"F15E3C-000000","11|1|D9452A-000000,5|9|C41C04-000000,5|4|DB4A2F-000000"},
                
                pitch1 = {"神殿入口定位1",108,570,168,612,"4E3F38-000000","-18|3|4F4038-000000,9|1|4E3F38-000000,23|2|4F3F39-000000"},
                pitch2 = {"神殿入口定位2",583,259,719,317,"C35F2F-000000","0|19|BC5B2B-000000,26|9|C15E2E-000000,68|-6|C76231-000000,70|21|C56A33-000000"},
				-- 黑暗神殿黄色折叠按钮
                inner_pitch1 = {"神殿内定位1",250,584,281,621,"F8B81E-000000","-10|9|F3D87D-000000,-8|16|EFC568-000000,-1|23|DE9449-000000"},
				-- BOSS剩余次数 加号
                inner_pitch2 = {"神殿内定位2",444,225,503,288,"E2BD85-000000","26|-1|E0B97A-000000,16|9|FBF4D7-000000,3|23|D59F46-000000,28|20|D59F48-000000"},
                             
				boss_pos = {
					boss1 = {
						icon = {158,712,1},
						keyitiaozhan = {"BOSS1可挑战",108,686,233,715,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss2 = {
						icon = {358,720,1},
						keyitiaozhan = {"BOSS2可挑战",343,685,474,719,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss3 = {
						icon = {584,706,1},
						keyitiaozhan = {"BOSS3可挑战",583,687,706,724,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss4 = {
						icon = {138,814,1},
						keyitiaozhan = {"BOSS4可挑战",106,795,235,834,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss5 = {
						icon = {364,806,1},
						keyitiaozhan = {"BOSS5可挑战",345,798,472,829,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss6 = {
						icon = {608,814,1},
						keyitiaozhan = {"BOSS6可挑战",583,793,708,833,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss7 = {
						icon = {138,918,1},
						keyitiaozhan = {"BOSS7可挑战",110,913,230,945,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss8 = {
						icon = {378,932,1},
						keyitiaozhan = {"BOSS8可挑战",347,910,471,949,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss9 = {
						icon = {618,924,1},
						keyitiaozhan = {"BOSS9可挑战",560,896,702,946,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					}
                },
                tiaozhan = {611,1030,1},
				wancheng = {"神殿完成",203,1001,260,1033,"14BB03-000000","0|7|AF8E68-000000,-4|7|19E504-000000",0.9,0},
				tuichu = {676,202,1},
                tuichuqueren = {464,750,1},
				fighting_pitch1 = {"boss挑战中定位1",188,248,272,324,"FDB84B-000000","14|-8|FEC54B-000000,28|-6|FEC54C-000000,34|16|38251B-000000,20|30|FFA544-000000"},
				fighting_pitch2 = {"boss挑战中定位2",44,520,156,546,"4ECC35-000000","8|-2|4DCA34-000000,16|-2|4DCA34-000000"},

                index = {"神殿首页",445,229,500,288,"EAC797-000000","-1|31|D89F43-000000,23|30|D6A045-000000,24|5|E2BA78-000000,14|15|FEF2D5-000000"},
				inner_index = {"BOSS挑战中",650,515,714,588,"FCD355-000000","5|12|F8B13E-000000,12|4|261B0D-000000,20|-6|FEE562-000000,32|14|261A0D-000000"},
				success = {"神殿挑战完成",250,512,476,574,"C76131-000000","-2|20|C46731-000000,60|16|E3AE58-000000,118|0|C66131-000000,122|20|BF5E2E-000000"},
                success_click = {316,1036,1}
            },
            vip = {
				icon = {66,1224,1},
                boss1 = {"BOSS1",90,550,300,640,"EE8F0D-000000","18|-2|EE8F0B-000000,58|-2|EE8E0B-000000,82|28|F69F28-000000",0.9,0},
                boss2 = {"BOSS2",428,554,622,634,"EE8F0D-000000","18|-2|EE8F0B-000000,58|-2|EE8E0B-000000,82|28|F69F28-000000",0.9,0},
                boss3 = {"BOSS3",108,1018,302,1098,"EE8F0D-000000","18|-2|EE8F0B-000000,58|-2|EE8E0B-000000,82|28|F69F28-000000",0.9,0},
                boss4 = {"BOSS4",418,1016,630,1094,"EE8F0D-000000","18|-2|EE8F0B-000000,58|-2|EE8E0B-000000,82|28|F69F28-000000",0.9,0}
            },
            zhongli = {
				icon = {188,1234,1},
                index = {"中立BOSS首页",422,260,718,378,"E2AC4F-000000","18|-2|E6AD50-000000,158|-100|C76330-000000,158|-78|BB5A2B-000000,188|-88|C05B2A-000000"},
                tiaozhan = {"挑战按钮",540,396,718,1088,"EF9110-000000","0|14|F49B21-000000,16|8|F29719-000000,22|10|FFFFFF-000000"},
				tiaozhantishi = {"挑战提示",566,452,638,530,"E04000-000000","0|12|DA3B02-000000,22|30|CF2E00-000000,36|14|D93902-000000"},
				tiaozhantishi_quxiao = {"挑战取消提示",168,712,338,784,"ED8E09-000000","2|26|F59E26-000000,48|16|F3971B-000000,96|4|EE900E-000000,94|28|F69F28-000000"},
                tiaozhan_queding = {474,756,0},
                mianfeijiaxue = {"免费加血按钮",4,940,72,1012,"285816-000000","7|-17|2C5C19-000000,14|5|1D4C0C-000000,39|1|285815-000000"},
                mianfeijiaxue_queren = {478,750,1},
                
                dianquanjiaxue = {"点券加血按钮",106,944,184,1007,"7E2C23-000000","14|-16|7F2D23-000000,17|10|C30D07-000000,6|28|FFE3FC-000000"}
            }
        },
        
		-- 魂卡
        hunka = {
			icon = {167,1234,1}
        },
		-- 技能
        jineng = {
			icon = {268,1232,1}
        },
		-- 宠物
        chongwu = {
			icon = {370,1237,1},
            duihuan = {
				icon = {418,1218,1},
                shuaxin = {598,1070,1},
                finish = {"兑换完毕",178,348,344,416,"A0A0A0-000000","-16|6|A2A2A2-000000,0|20|A9A9A9-000000",0.9,0},
                pos1 = {278,388,1},
                pos2 = {576,386,1},
                jifenbuzu = {"积分不足",182,402,290,432,"486079-000000","17|2|486079-000000,40|0|4D657D-000000,67|1|475F78-000000"}
                
            }
        },
		-- 锻造
        duanzao = {
			icon = {454,1232,1},
            qianghua = {
				icon = {76,1240,1},
                keyiqianghua = {"可以强化",306,874,413,988,"68FF33",1,0},
				qianghuajinhua = {"强化进化",270,782,454,862,"F19618-000000","30|0|FCECD5-000000,60|-4|F09516-000000,110|-6|EF9212-000000",0.9,0},
                kaishiqianghua = {372,1054,1},
                wuqianghuashi = {"无强化石",373,944,389,968,"F90100|F70502|F00300",0.9,0},
                dengjibuzu = {"等级不足",282,1026,453,1092,"6984D5-000000","-1|20|759CE1-000000,10|30|7BA9E7-000000",0.9,0}
            }
        },
		-- 背包
        beibao = {
			icon = {561,1238,1},
            close = {680,1220,1},
            ronglian = {
				piliangronglian = {140,1070,1},
                ronglian_guanbi = {466,964,1}
            },
             
            shiyong = {
				shiyong_click = {"物品使用",474,465,576,520,"F09408-000000","1|28|F7A12A-000000,29|4|EF8F0C-000000,31|33|FAB556-000000,59|20|FFFFFF-000000"},
				shiyongchenggong = {"物品使用成功",226,356,489,488,"F8EB83-000000","20|-1|FBF7BB-000000,52|-2|F5E180-000000,0|17|FBF8C8-000000,51|19|FBF8BD-000000"},
				guanbitishi = {524,848,1}
            }
            
        },
		-- 经验池
        jingyanchi = {
			icon = {663,1225,1},
            shengji = {
				juese1 = {"升级角色1",492,542,650,604,"6B8BD7-000000","-6|26|7DAEE9-000000,22|12|739BDF-000000,92|10|7298DE-000000",0.9,0},
				juese2 = {"升级角色2",490,652,652,726,"6B8BD7-000000","-6|26|7DAEE9-000000,22|12|739BDF-000000,92|10|7298DE-000000",0.9,0},
				juese3 = {"升级角色3",492,774,652,840,"6B8BD7-000000","-6|26|7DAEE9-000000,22|12|739BDF-000000,92|10|7298DE-000000",0.9,0},
				juese4 = {"升级角色4",488,882,650,962,"6B8BD7-000000","-6|26|7DAEE9-000000,22|12|739BDF-000000,92|10|7298DE-000000",0.9,0},
				juese5 = {"升级角色5",486,1000,654,1080,"6B8BD7-000000","-6|26|7DAEE9-000000,22|12|739BDF-000000,92|10|7298DE-000000",0.9,0},
            }
        },
        -- 副本
        fuben = {
			icon = {674,556,1},
            pitch1 = {"副本定位1",104,137,197,176,"64412E-000000","23|0|684633-000000,43|5|64412E-000000,52|19|64412E-000000,386|-138|100C09-000000"},
            pitch2 = {"副本定位2",648,149,696,203,"EA8773-000000","-13|15|B75657-000000,16|15|B75657-000000,2|13|F0DEBC-000000,-166|-155|100C09-000000"},

			zhuangbei = {
				icon = {102,1098,1},
                easyStep1 = {164,318,1},
                easyStep2 = {608,404,1},
                complete_all = {"装备副本完成",473,394,662,489,"F09210-000000","-3|22|F7A32E-000000,-1|58|514542-000000,128|9|F3981C-000000,8|-416|100C09-000000"},
                success_current = {"装备副本成功",642,146,704,208,"F8987C-000000","-15|18|B75657-000000,1|18|E7C7A6-000000,16|16|B9595A-000000",0.9,0},
                tiaozhan = {494,952,1}
            },
            hunka = {
				icon = {246,1094,1},
                tiaozhan = {496,956,1},
                easyStep1 = {164,318,1},
                easyStep2 = {313,252,1},
                weikaiqi = {"关卡未开启",410,918,580,988,"9D9D9D-000000","-20|30|AAAAAA-000000,82|4|A0A0A0-000000,92|30|AAAAAA-000000,52|-928|100C09-000000"},
                complete_all = {"完成魂卡副本",476,405,662,464,"EF8F0D-000000","11|20|F69E25-000000,61|-3|EE8D09-000000,114|18|F59D23-000000",0.9,0},
                hunkamenpiao = {"魂卡门票",168,708,350,796,"EE8F0D-000000","-2|28|F6A12A-000000,50|12|F29719-000000,104|16|F3981D-000000",0.9,0},
                hunkamenpiao_click = {486,740,1}
            },
            jingyan = {
				icon = {374,1098,2,true},
                tiaozhan = {354,990,1},
                quedingtiaozhan = {464,746,1},
				tiaozhanzhong={"经验副本挑战中",13,960,45,1004,"FEFF92-000000","-8|6|FFF27F-000000,1|12|FFFDC4-000000,4|27|FA8F11-000000,-10|25|FCA61F-000000"},                
                cd = {"经验副本CD",266,956,452,1026,"9C9C9C-000000","54|-4|9B9B9B-000000,108|2|9C9C9C-000000,126|34|AAAAAA-000000,208|-964|100C09-000000"},
                complete_all = {"经验副本完成",560,981,576,1001,"97623D-000000","3|-12|9B6942-000000,3|-6|CBB189-000000",0.9,0},
                success_current = {"经验副本成功",138,752,316,828,"84A170-000000","-2|24|9CBD86-000000,24|36|A9CC94-000000,58|22|DCE7D4-000000"},
				success_click = {486,794,1},
                cishubuzu = {"次数不足",569,451,641,512,"DC3E04-000000","-2|29|CE2E01-000000,18|15|FFDA80-000000,33|34|CB2B01-000000",0.9,0}
            },
            leitingdao = {
				icon = {510,1084,1},
                tiaozhan = {522,988,1},
                tiaozhan_icon = {"挑战按钮",428,952,618,1026,"ED8E0A-000000","-12|12|F09415-000000,2|28|F59E25-000000,90|8|EF9211-000000",0.9,0},
                zhijiejin = {464,750,1},
                success_current ={"雷霆岛成功",198,348,510,454,"F8E973-000000","44|0|FAEB74-000000,100|8|C1602F-000000,160|16|811401-000000,62|34|CE7938-000000"},
                success_click={350,986,1}
            }
        },
        huoyue = {
			icon = {679,379,1},
            bukelingqu = {"前往按钮",522,352,672,416,"749BE0-000000","12|-1|7399DF-000000,28|0|B5CAEF-000000,47|0|FEFFFF-000000",0.9,0},
            yiwancheng = {"可领取活跃",34,318,117,401,"DA4343-000000","17|-7|FBDC74-000000,35|-1|DC4343-000000",0.9,0},
			lingqu = {594,388,1},
            jiangli1 = {156,935,1},
            jiangli2 = {259,933,1},
            jiangli3 = {358,936,1},
            jiangli4 = {483,930,1},
            jiangli5 = {643,936,1},
        },
        gonghui = {
			icon = {456,1006,1},
            huodong = {
				icon = {109,681,1},
                husong = {
					icon = {561,344,1},
                    husong_close = {683,188,1},
                    kaishihusong = {"开始护送",440,1038,556,1100,"FEFFFF-000000","0|14|FEFEFC-000000,18|28|F8AB40-000000",0.9,0},
					cishubuzu = {"护送次数不足",572,418,636,480,"D93A02-000000","32|2|D83801-000000,18|20|CA2A01-000000,18|0|FFDC84-000000,18|-16|D63805-000000"},
					cishubuzu_hsz = {"护送次数不足红手指",575,421,637,475,"DA3B02-000000","17|-13|DA3C04-000000,32|2|DA3A02-000000,18|18|CD2D01-000000,17|2|FFDC83-000000"},
                    cishubuzu_close = {602,440,1},
                    lingqujiangli = {"领取奖励",306,1034,412,1108,"ED8B06-000000","0|12|EF8E09-000000,0|22|F2971A-000000,0|34|F59D24-000000",0.9,0}
                }
            }
            
        }
    },
	yangchenglibao = {
		icon = {"养成礼包",653,378,719,434,"762C0F-000000","46|0|7B2F0F-000000,23|1|FCF890-000000,6|18|F8C448-000000,38|17|F9C547-000000",0.9,0}
	}
}






-- 特征
feature_hongshouzhi ={
	keys={
		time_key = os.time({day=20, month=2, year=2020, hour=0, minute=0, second=0})
    },
	system = {
		swipeUp = {360,540,360,1080},
		swipeDown = {360,540,360,1080},
        tuichuditu = {
			icon = {"退出地图",597,174,721,228,"FFE39B-000000","42|-1|FFE5A1-000000,87|1|FDD879-000000,31|8|FFD462-000000",0.9,0},
            tuichuqueren = {465,751,1}
        },
        close1 = {"关闭按钮1",622,136,716,220,"E38070-000000","0|16|ECD8B5-000000,0|34|B44D50-000000,20|18|B65556-000000",0.9,0},
        return_down_icon = {662,1012,1},
        return_down = {"退出按钮-下",603,986,709,1041,"FFE8AA-000000","63|-834|ECD8B5-000000,23|-6|FFEFB8-000000,60|-18|FEE7AB-000000,81|2|FDD97C-000000",0.9,0},
		return_back_click = {670,1208,1},
        -- 签到等的返回按钮
        back1 = {644,1088,1},
        -- 最下面的返回按钮
        back2 = {682,1212,1}
	},
    小七手游 = {
		游戏标签 = {78,1222,1,true},
		H5未选择 = {595,202,666,254,"H5","9c9c9c-111111"},
        H5已选择 = {552,183,645,249,"H5大","12cdb0-222222|54dbc6-111111"},
        魂之纪元 = {"魂之纪元",2,258,188,444,"C6374E-000000","38|1|6F7190-000000,87|8|840E06-000000,85|61|B43F59-000000"},
        小号列表 = {"小号列表",11,67,80,125,"12CDB0-000000","17|-15|12CDB0-000000,31|-14|37D5BC-000000,21|3|12CDB0-000000,11|-1|FFFFFF-000000"}
    },
    聊天 = {
		关闭聊天 = {676,555,1},
        聊天定位1 = {"聊天定位1",652,524,698,568,"9D6840-000000","8|8|A16A40-000000,17|1|9C653D-000000,0|7|E9DAB7-000000,8|12|E9DAB7-000000,6|17|9C653D-000000"},
        聊天定位2 = {"聊天定位2",75,564,145,633,"FEBF69-000000","1|11|F6A742-000000,0|31|F29E38-000000,9|18|F49F38-000000"},
		打开聊天 = {366,1132,1},
        聊天输入 = {302,1104,1},
        世界聊天 = {82,604,1},
        跨服聊天 = {74,830,1},
        发送 = {632,1114,1}
        
    },
    异常处理 = {
		提示1 = {"异常处理提示1",162,718,338,782,"ED8E09-000000","2|16|F3971B-000000,2|30|F6A12B-000000,14|10|F19414-000000,14|26|F59E26-000000"}
    },
    -- 开始冒险
    游戏进入页 = {
		老账号_公告 = {"公告",273,733,391,822,"F15049-000000","-1|6|C61A1B-000000,-1|11|BC1819-000000,5|8|BA100E-000000,24|-3|EC373B-000000"},
        老账号_开始冒险 = {"开始冒险",205,1054,300,1144,"5C97EF-000000","1|18|457ACE-000000,1|38|60A4E7-000000,-40|19|F9E1A2-000000,-40|19|F9E1A2-000000"},
        老帐号_开始冒险_点击 = {364,1102,1},
        新账号_骰子 = {"骰子",502,1060,574,1138,"D85621-000000","-18|4|F1F0EB-000000,16|6|DAE1E8-000000,8|32|727A81-000000"},
        新账号_开始游戏 = {"开始游戏",458,1158,510,1258,"5574BD-000000","0|14|5675BE-000000,20|20|19D6FE-000000,16|0|FFFAD5-000000"},
        新账号_开始游戏_点击 = {376,1206,1}
    },
    游戏首页 = {
		-- 副本按钮
		定位点1 = {"副本按钮",646,532,701,581,"9954C0-000000","11|1|F384F4-000000,23|12|D84AE6-000000,11|23|C177D9-000000"},
        -- 点券图标
        定位点2 = {"点券图标",273,3,306,40,"9F79D7-000000","5|0|D1C5E0-000000,11|0|A575E8-000000,9|9|8965C9-000000"}
    },
    角色账号 = {
		 {44,296,272,1262,"1","2f2f2f-555555",0.9},
		 {44,296,272,1262,"2","2f2f2f-555555",0.9},
		 {44,296,272,1262,"3","2f2f2f-555555",0.9},
		 {44,296,272,1262,"4","2f2f2f-555555",0.9},
		 {44,296,272,1262,"5","2f2f2f-555555",0.9},
		 {44,296,272,1262,"6","2f2f2f-555555",0.9}
    },
    
	login = {
		h5 = {0,0,720,1280,"H5","9c9c9c-111111",0.9},
        h5_big = {0,0,720,1280,"H5大","12cdb0-222222|54dbc6-111111",0.9},
        game_icon = {0,0,720,1280,"魂之纪元","474747-222222",0.9},
        account_list = {3,23,114,146,"小号列表","12cdb0-222222",0.9},
        new_login={192,1044,524,1157,"开始冒险","ffffff-222222|cedaec-222222",0.9},
        old_login={192,1044,524,1157,"开始冒险","ffffff-222222|cedaec-222222",0.9}
    },
    account = {
		account1 = {0,0,720,1280,"账号1","333333-222222",1},
		account2 = {0,0,720,1280,"账号2","333333-222222",1},
		account3 = {0,0,720,1280,"账号3","333333-222222",0.9},
		account4 = {0,0,720,1280,"账号4","333333-222222",1}
    },
    index = {
		back1 = {649,1217,719,1276,"返回1","fcf4d8-222222|f2e0ae-222222",0.9},
		back2 = {581,1052,703,1115,"返回2","e2ebdc-222222|f2e0ae-222222",0.9}
    },
    wait_goto = {
		close = {450,671,712,815,"前往-关闭","fbd7b1-222222|f2e0ae-222222",0.9},
		vip_boss = {479,716,658,958,"前往-VIP Boss","845226-222222",0.9}
    },
    task = {
		-- 福利
        fuli = {
			icon = {50,246,1},
            meiriqiandao = {
				qiandaolingjiang = {"签到领奖",0,304,716,876,"96CD5B-000000","-3|17|437B11-000000,-1|62|C5753A-000000",0.9,0}
            },
            qifuxuyuan = {
				icon = {222,1172,1},
                lingbiqifu = {572,932,1}
            }
        },
		-- 角色
        juese = {
			icon = {73,1224,1},
            juese1 = {128,209,1},
            juese2 = {241,214,1},
            juese3 = {359,216,1},
            juese4 = {478,212,1},
            juese5 = {597,217,1},
            jiadian = {
				icon = {80,1224,1,true},
                jiadian = {252,842,1},
                tuijian = {330,1066,1},
                baocun = {160,1066,1},
				kejiadian = {"可加点",66,154,650,258,"EC5939-000000","9|-1|DC472A-000000,4|7|C71F05-000000,6|0|DF4B2E-000000"}
            },
            xinxi = {
				icon = {114,832,1},
                yijianzhuangbei = {352,758,1}
            } },
        -- 好友
        haoyou = {
			icon = {44,1148,1},
            youjian = {
				icon = {582,974,1},
                yijianlingqu = {454,886,1},
                shanchuyidu = {264,892,1}
            }
        },
        -- BOSS
        boss = {
			icon = {676,470,1},
            神殿 = {
				Tab图标 = {306,1226,1},
                -- 小红点
				可挑战 = {"可挑战",325,1176,362,1206,"F15E3C-000000","11|1|D9452A-000000,5|9|C41C04-000000,5|4|DB4A2F-000000"},
				神殿入口定位1 = {"神殿入口定位1",562,258,652,314,"C66131-000000","0|14|C15E2D-000000,-2|22|BB5A2B-000000,-18|12|B35221-000000"},
                神殿入口定位2 = {"神殿入口定位2",290,994,346,1040,"ECC47E-000000","26|-2|ECBE76-000000,14|10|FCF0CB-000000,2|14|E5AD50-000000,24|14|E5AE50-000000"},
				可以挑战颜色 = "4DCA34|4DCA34|4DCA34|4DCA34",
                开始挑战 = {611,1030,1},
                神殿完成 = {"神殿完成",203,1001,260,1033,"14BB03-000000","0|7|AF8E68-000000,-4|7|19E504-000000",0.9,0}
				
            },
            shendian = {
				icon = {306,1226,1},
                可挑战 = {"可挑战",325,1176,362,1206,"F15E3C-000000","11|1|D9452A-000000,5|9|C41C04-000000,5|4|DB4A2F-000000"},
                
                pitch1 = {"神殿入口定位1",108,570,168,612,"4E3F38-000000","-18|3|4F4038-000000,9|1|4E3F38-000000,23|2|4F3F39-000000"},
                pitch2 = {"神殿入口定位2",583,259,719,317,"C35F2F-000000","0|19|BC5B2B-000000,26|9|C15E2E-000000,68|-6|C76231-000000,70|21|C56A33-000000"},
				-- 黑暗神殿黄色折叠按钮
                inner_pitch1 = {"神殿内定位1",250,584,281,621,"F8B81E-000000","-10|9|F3D87D-000000,-8|16|EFC568-000000,-1|23|DE9449-000000"},
				-- BOSS剩余次数 加号
                inner_pitch2 = {"神殿内定位2",444,225,503,288,"E2BD85-000000","26|-1|E0B97A-000000,16|9|FBF4D7-000000,3|23|D59F46-000000,28|20|D59F48-000000"},
                             
				boss_pos = {
					boss1 = {
						icon = {158,712,1},
						keyitiaozhan = {"BOSS1可挑战",108,686,233,715,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss2 = {
						icon = {358,720,1},
						keyitiaozhan = {"BOSS2可挑战",343,685,474,719,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss3 = {
						icon = {584,706,1},
						keyitiaozhan = {"BOSS3可挑战",583,687,706,724,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss4 = {
						icon = {138,814,1},
						keyitiaozhan = {"BOSS4可挑战",106,795,235,834,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss5 = {
						icon = {364,806,1},
						keyitiaozhan = {"BOSS5可挑战",345,798,472,829,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss6 = {
						icon = {608,814,1},
						keyitiaozhan = {"BOSS6可挑战",583,793,708,833,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss7 = {
						icon = {138,918,1},
						keyitiaozhan = {"BOSS7可挑战",110,913,230,945,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss8 = {
						icon = {378,932,1},
						keyitiaozhan = {"BOSS8可挑战",347,910,471,949,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					},
					boss9 = {
						icon = {618,924,1},
						keyitiaozhan = {"BOSS9可挑战",560,896,702,946,"4DCA34|4DCA34|4DCA34|4DCA34",1,0},
					}
                },
                tiaozhan = {611,1030,1},
				wancheng = {"神殿完成",203,1001,260,1033,"14BB03-000000","0|7|AF8E68-000000,-4|7|19E504-000000",0.9,0},
				tuichu = {676,202,1},
                tuichuqueren = {464,750,1},
				fighting_pitch1 = {"boss挑战中定位1",188,248,272,324,"FDB84B-000000","14|-8|FEC54B-000000,28|-6|FEC54C-000000,34|16|38251B-000000,20|30|FFA544-000000"},
				fighting_pitch2 = {"boss挑战中定位2",44,520,156,546,"4ECC35-000000","8|-2|4DCA34-000000,16|-2|4DCA34-000000"},

                index = {"神殿首页",445,229,500,288,"EAC797-000000","-1|31|D89F43-000000,23|30|D6A045-000000,24|5|E2BA78-000000,14|15|FEF2D5-000000"},
				inner_index = {"BOSS挑战中",650,515,714,588,"FCD355-000000","5|12|F8B13E-000000,12|4|261B0D-000000,20|-6|FEE562-000000,32|14|261A0D-000000"},
				success = {"神殿挑战完成",250,512,476,574,"C76131-000000","-2|20|C46731-000000,60|16|E3AE58-000000,118|0|C66131-000000,122|20|BF5E2E-000000"},
                success_click = {316,1036,1}
            },
            vip = {
				icon = {66,1224,1},
                boss1 = {"BOSS1",90,550,300,640,"EE8F0D-000000","18|-2|EE8F0B-000000,58|-2|EE8E0B-000000,82|28|F69F28-000000",0.9,0},
                boss2 = {"BOSS2",428,554,622,634,"EE8F0D-000000","18|-2|EE8F0B-000000,58|-2|EE8E0B-000000,82|28|F69F28-000000",0.9,0},
                boss3 = {"BOSS3",108,1018,302,1098,"EE8F0D-000000","18|-2|EE8F0B-000000,58|-2|EE8E0B-000000,82|28|F69F28-000000",0.9,0},
                boss4 = {"BOSS4",418,1016,630,1094,"EE8F0D-000000","18|-2|EE8F0B-000000,58|-2|EE8E0B-000000,82|28|F69F28-000000",0.9,0}
            },
            zhongli = {
				icon = {188,1234,1},
                index = {"中立BOSS首页",422,260,718,378,"E2AC4F-000000","18|-2|E6AD50-000000,158|-100|C76330-000000,158|-78|BB5A2B-000000,188|-88|C05B2A-000000"},
                tiaozhan = {"挑战按钮",540,396,718,1088,"EF9110-000000","0|14|F49B21-000000,16|8|F29719-000000,22|10|FFFFFF-000000"},
				tiaozhantishi = {"挑战提示",566,452,638,530,"E04000-000000","0|12|DA3B02-000000,22|30|CF2E00-000000,36|14|D93902-000000"},
				tiaozhantishi_quxiao = {"挑战取消提示",168,712,338,784,"ED8E09-000000","2|26|F59E26-000000,48|16|F3971B-000000,96|4|EE900E-000000,94|28|F69F28-000000"},
                tiaozhan_queding = {474,756,0},
                mianfeijiaxue = {"免费加血按钮",4,940,72,1012,"285816-000000","7|-17|2C5C19-000000,14|5|1D4C0C-000000,39|1|285815-000000"},
                mianfeijiaxue_queren = {478,750,1},
                
                dianquanjiaxue = {"点券加血按钮",106,944,184,1007,"7E2C23-000000","14|-16|7F2D23-000000,17|10|C30D07-000000,6|28|FFE3FC-000000"}
            }
        },
        -- 野战
        yezhan = {
			icon = {582,654,1},
            success_current = {"完成本次野战",19,1126,74,1174,"FFFDF0-000000","1|6|FFEFBC-000000,0|15|FFD766-000000,0|25|5A2603-000000",0.9,0},
            success_in = {"进入野战",52,209,98,295,"C36631-000000","-9|46|C1602F-000000,0|62|ECBC36-000000,25|45|C76231-000000",0.9,0},
			complete_all = {"野战全部完成",567,413,636,481,"DF4003-000000","1|12|DA3A02-000000,17|13|FFD97E-000000,34|13|D93902-000000",0.9,0},
            icon_pic = {"野战图标",535,518,625,606,"野战.bmp","000000",0.6,0},
            tiaozhan = {582,902,1},
            tiaoguo = {656,204,1},
            queding = {418,893,1}
            
        },
        -- 竞技
        jingji = {
			icon = {676,648,1},
			tab_pipei = {122,258,1},
            tab_jiangli = {266,252,1},
            tab_jiangli_lingqu = {348,1094,1},
			pipeiduishou = {372,1088,1},
            success_current = {"完成本次竞技",586,148,666,213,"DA3B02-000000","19|0|FFE090-000000,34|0|DA3B02-000000",0.9,0},
            complete_all = {"竞技全部完成",569,419,638,481,"DE3F02-000000","-1|23|CD2C01-000000,19|24|CC2B01-000000,18|8|FFD778-000000,21|-22|1E2F42-000000",0.9,0}
        },
		-- 魂卡
        hunka = {
			icon = {167,1234,1}
        },
		-- 技能
        jineng = {
			icon = {268,1232,1}
        },
		-- 宠物
        chongwu = {
			icon = {370,1237,1},
            duihuan = {
				icon = {418,1218,1},
                shuaxin = {598,1070,1},
                finish = {"兑换完毕",178,348,344,416,"A0A0A0-000000","-16|6|A2A2A2-000000,0|20|A9A9A9-000000",0.9,0},
                pos1 = {278,388,1},
                pos2 = {576,386,1},
                jifenbuzu = {"积分不足",182,402,290,432,"486079-000000","17|2|486079-000000,40|0|4D657D-000000,67|1|475F78-000000"}
                
            }
        },
		-- 锻造
        duanzao = {
			icon = {454,1232,1},
            qianghua = {
				icon = {76,1240,1},
                keyiqianghua = {"可以强化",306,874,413,988,"68FF33",1,0},
				qianghuajinhua = {"强化进化",270,782,454,862,"F19618-000000","30|0|FCECD5-000000,60|-4|F09516-000000,110|-6|EF9212-000000",0.9,0},
                kaishiqianghua = {372,1054,1},
                wuqianghuashi = {"无强化石",373,944,389,968,"F90100|F70502|F00300",0.9,0},
                dengjibuzu = {"等级不足",282,1026,453,1092,"6984D5-000000","-1|20|759CE1-000000,10|30|7BA9E7-000000",0.9,0}
            }
        },
		-- 背包
        beibao = {
			icon = {561,1238,1},
            close = {680,1220,1},
            ronglian = {
				piliangronglian = {140,1070,1},
                ronglian_guanbi = {466,964,1}
            },
            paimai = {
                wupin1 = {"物品1",80,239,147,261,"D14343-000000","7|0|D24343-000000,17|0|D54343-000000,26|0|D74343-000000",0.9,0},
                wupin4 = {"物品4",436,234,522,259,"D14343-000000","12|0|D24343-000000,19|0|D54343-000000,32|0|D84343-000000",0.9,0},
                wupin4_outtime = {"物品4_过期",450,236,534,315,"686868-000000","7|7|6A6A6A-000000,16|14|909090-000000,27|25|6D6D6D-000000"},
                wupin1_click = {120,304,1},
                wupin4_click = {603,293,1},
                wupin_shiyong = {584,315,1},
                dange_naqupaimai = {466,810,1},
                piliang_naqupaimai = {624,892,1},
                piliang_zijishiyong = {460,894,1},
                piliang_guoqi = {"批量拍卖已过期",560,860,696,924,"9F9F9F-000000","0|28|ACACAC-000000,28|28|AFAFAF-000000,106|4|9E9E9E-000000",0.9,0},
                piliang_weiwancheng = {"批量拍卖还未完成",488,385,602,499,"D54343-000000","11|-1|DD4343-000000,30|15|FAE079-000000,46|34|DC4343-000000",0.9,0},
				paimai_guanbi = {644,336,1}
            },
            shiyong = {
				shiyong_click = {"物品使用",474,465,576,520,"F09408-000000","1|28|F7A12A-000000,29|4|EF8F0C-000000,31|33|FAB556-000000,59|20|FFFFFF-000000"},
				shiyongchenggong = {"物品使用成功",226,356,489,488,"F8EB83-000000","20|-1|FBF7BB-000000,52|-2|F5E180-000000,0|17|FBF8C8-000000,51|19|FBF8BD-000000"},
				guanbitishi = {524,848,1}
            }
            
        },
		-- 经验池
        jingyanchi = {
			icon = {663,1225,1},
            shengji = {
				juese1 = {"升级角色1",492,542,650,604,"6B8BD7-000000","-6|26|7DAEE9-000000,22|12|739BDF-000000,92|10|7298DE-000000",0.9,0},
				juese2 = {"升级角色2",490,652,652,726,"6B8BD7-000000","-6|26|7DAEE9-000000,22|12|739BDF-000000,92|10|7298DE-000000",0.9,0},
				juese3 = {"升级角色3",492,774,652,840,"6B8BD7-000000","-6|26|7DAEE9-000000,22|12|739BDF-000000,92|10|7298DE-000000",0.9,0},
				juese4 = {"升级角色4",488,882,650,962,"6B8BD7-000000","-6|26|7DAEE9-000000,22|12|739BDF-000000,92|10|7298DE-000000",0.9,0},
				juese5 = {"升级角色5",486,1000,654,1080,"6B8BD7-000000","-6|26|7DAEE9-000000,22|12|739BDF-000000,92|10|7298DE-000000",0.9,0},
            }
        },
        -- 副本
        fuben = {
			icon = {674,556,1},
            pitch1 = {"副本定位1",104,137,197,176,"64412E-000000","23|0|684633-000000,43|5|64412E-000000,52|19|64412E-000000,386|-138|100C09-000000"},
            pitch2 = {"副本定位2",648,149,696,203,"EA8773-000000","-13|15|B75657-000000,16|15|B75657-000000,2|13|F0DEBC-000000,-166|-155|100C09-000000"},

			zhuangbei = {
				icon = {102,1098,1},
                easyStep1 = {164,318,1},
                easyStep2 = {608,404,1},
                complete_all = {"装备副本完成",473,394,662,489,"F09210-000000","-3|22|F7A32E-000000,-1|58|514542-000000,128|9|F3981C-000000,8|-416|100C09-000000"},
                success_current = {"装备副本成功",642,146,704,208,"F8987C-000000","-15|18|B75657-000000,1|18|E7C7A6-000000,16|16|B9595A-000000",0.9,0},
                tiaozhan = {494,952,1}
            },
            hunka = {
				icon = {246,1094,1},
                tiaozhan = {496,956,1},
                easyStep1 = {164,318,1},
                easyStep2 = {313,252,1},
                weikaiqi = {"关卡未开启",410,918,580,988,"9D9D9D-000000","-20|30|AAAAAA-000000,82|4|A0A0A0-000000,92|30|AAAAAA-000000,52|-928|100C09-000000"},
                complete_all = {"完成魂卡副本",476,405,662,464,"EF8F0D-000000","11|20|F69E25-000000,61|-3|EE8D09-000000,114|18|F59D23-000000",0.9,0},
                hunkamenpiao = {"魂卡门票",168,708,350,796,"EE8F0D-000000","-2|28|F6A12A-000000,50|12|F29719-000000,104|16|F3981D-000000",0.9,0},
                hunkamenpiao_click = {486,740,1}
            },
            jingyan = {
				icon = {374,1098,2,true},
                tiaozhan = {354,990,1},
                quedingtiaozhan = {464,746,1},
				tiaozhanzhong={"经验副本挑战中",13,960,45,1004,"FEFF92-000000","-8|6|FFF27F-000000,1|12|FFFDC4-000000,4|27|FA8F11-000000,-10|25|FCA61F-000000"},                
                cd = {"经验副本CD",266,956,452,1026,"9C9C9C-000000","54|-4|9B9B9B-000000,108|2|9C9C9C-000000,126|34|AAAAAA-000000,208|-964|100C09-000000"},
                complete_all = {"经验副本完成",560,981,576,1001,"97623D-000000","3|-12|9B6942-000000,3|-6|CBB189-000000",0.9,0},
                success_current = {"经验副本成功",138,752,316,828,"84A170-000000","-2|24|9CBD86-000000,24|36|A9CC94-000000,58|22|DCE7D4-000000"},
				success_click = {486,794,1},
                cishubuzu = {"次数不足",569,451,641,512,"DC3E04-000000","-2|29|CE2E01-000000,18|15|FFDA80-000000,33|34|CB2B01-000000",0.9,0}
            },
            leitingdao = {
				icon = {510,1084,1},
                tiaozhan = {522,988,1},
                tiaozhan_icon = {"挑战按钮",428,952,618,1026,"ED8E0A-000000","-12|12|F09415-000000,2|28|F59E25-000000,90|8|EF9211-000000",0.9,0},
                zhijiejin = {464,750,1},
                success_current ={"雷霆岛成功",198,348,510,454,"F8E973-000000","44|0|FAEB74-000000,100|8|C1602F-000000,160|16|811401-000000,62|34|CE7938-000000"},
                success_click={350,986,1}
            }
        },
        huoyue = {
			icon = {679,379,1},
            bukelingqu = {"前往按钮",522,352,672,416,"749BE0-000000","12|-1|7399DF-000000,28|0|B5CAEF-000000,47|0|FEFFFF-000000",0.9,0},
            yiwancheng = {"可领取活跃",34,318,117,401,"DA4343-000000","17|-7|FBDC74-000000,35|-1|DC4343-000000",0.9,0},
			lingqu = {594,388,1},
            jiangli1 = {156,935,1},
            jiangli2 = {259,933,1},
            jiangli3 = {358,936,1},
            jiangli4 = {483,930,1},
            jiangli5 = {643,936,1},
        },
        gonghui = {
			icon = {456,1006,1},
            huodong = {
				icon = {109,681,1},
                husong = {
					icon = {561,344,1},
                    husong_close = {683,188,1},
                    kaishihusong = {"开始护送",440,1038,556,1100,"FEFFFF-000000","0|14|FEFEFC-000000,18|28|F8AB40-000000",0.9,0},
					cishubuzu = {"护送次数不足",572,418,636,480,"D93A02-000000","32|2|D83801-000000,18|20|CA2A01-000000,18|0|FFDC84-000000,18|-16|D63805-000000"},
					cishubuzu_close = {602,440,1},                   
                    lingqujiangli = {"领取奖励",306,1034,412,1108,"ED8B06-000000","0|12|EF8E09-000000,0|22|F2971A-000000,0|34|F59D24-000000",0.9,0}
                }
            }
            
        }
    },
	yangchenglibao = {
		icon = {"养成礼包",653,378,719,434,"762C0F-000000","46|0|7B2F0F-000000,23|1|FCF890-000000,6|18|F8C448-000000,38|17|F9C547-000000",0.9,0}
	}
}







主线任务 = {
	任务 = {152,1016,1},
    返回 = {678,1214,1},
	开始旅程 = {"开始旅程",253,792,296,857,"DF6D36-000000","13|-14|FFB415-000000,14|12|FF9803-000000,21|0|FA8F04-000000"},
    赫拉哔哔 = {"赫拉哔哔",466,896,628,1064,"BDC9FB-000000","30|-4|C3CEF6-000000,-14|38|F6E59D-000000,36|40|F3E8A5-000000,24|108|FEDBCC-000000"},
	赫拉哔哔2 = {"赫拉哔哔2",200,1102,318,1182,"5F100D-000000","10|6|64110F-000000,36|20|5F5E68-000000,30|30|85713D-000000,56|38|654A27-000000"},
	人物哔哔1 = {"人物哔哔1",194,1100,312,1168,"B31011-000000","-6|10|AC0E0F-000000,12|6|B9100F-000000,14|16|C81516-000000,40|28|FEE583-000000"},
	人物哔哔2 = {"人物哔哔2",200,1102,318,1182,"5F100D-000000","10|6|64110F-000000,36|20|5F5E68-000000,30|30|85713D-000000,56|38|654A27-000000"},
    穿装备定位1 = {"穿装备定位1",502,902,650,970,"6884D4-000000","0|10|6A8EDA-000000,0|24|80AAE7-000000"},
    穿装备定位2 = {"穿装备定位2",623,700,673,750,"995138-000000","28|1|995138-000000,16|15|8D402D-000000,16|2|F5E299-000000,16|-11|985137-000000"},
    装备穿戴 = {566,937,1},
    第一次转职 = {"第一次转职",648,975,718,1058,"D1280A-000000","-12|8|CF9948-000000,-29|19|DCCF97-000000,-23|46|CCB775-000000,-24|48|42371C-000000"},
    功能按钮1 = {"功能按钮1",516,880,614,952,"F09313-000000","0|22|F6A028-000000,32|-10|ED8E0A-000000,36|24|F7A534-000000,24|8|FEFCFA-000000"},
    功能按钮2 = {"功能按钮2",378,708,554,790,"F09313-000000","0|20|F69F28-000000,26|0|F0910F-000000,26|20|F69F28-000000,38|10|F7C681-000000"},
	功能按钮3 = {"功能按钮3",468,399,667,465,"F0930F-000000","2|22|F7A12A-000000,161|-2|EF8F0D-000000,161|22|F7A12A-000000,71|9|FFFFFF-000000"},
	学习技能1 = {"学习技能1" ,324,292,375,330,"D13A20-000000","-6|-2|E95334-000000,5|-3|D44025-000000,1|3|CA1B03-000000"},
	学习技能2 = {"学习技能2" ,464,291,502,330,"D13A20-000000","-6|-2|E95334-000000,5|-3|D44025-000000,1|3|CA1B03-000000"},
    VIP升级 = {"VIP升级",261,828,292,889,"D74210-000000","15|-14|FE9105-000000,12|0|F5D75D-000000,14|13|FF9A03-000000"},
    VIP按钮1 = {"VIP按钮1",240,752,356,800,"EF971F-000000","0|16|F5A333-000000,10|6|F6C278-000000,10|16|F5A333-000000"},
    VIP按钮2 = {"VIP按钮2",594,746,700,798,"EF971F-000000","0|16|F5A333-000000,10|6|F6C278-000000,10|16|F5A333-000000"},
    
    VIPBOSS1 = {"VIPBOSS1",106,614,294,686,"EF910E-000000","0|30|F7A431-000000,130|-4|EE8E0B-000000,130|32|F8A83C-000000"},
    VIPBOSS2 = {"VIPBOSS2",418,614,626,690,"EF910E-000000","0|30|F7A431-000000,130|-4|EE8E0B-000000,130|32|F8A83C-000000"},
    
    
    人物加点 = {"人物加点",279,799,314,829,"F16D3D-000000","3|6|D64E27-000000,6|11|DA2806-000000,5|2|DC4F2C-000000"},
    人物加点推荐 = {336,1070,1},
    人物加点保存 = {156,1068,1},
    
    宠物激活 = {"宠物激活",410,1018,453,1097,"E65233-000000","-2|9|C72005-000000,-1|26|F3981C-000000,-1|43|F7A637-000000"},
    宠物激活确定  = {358,958,1},
    宠物出战  = {618,1066,1},
    
    宠物升级 = {"宠物升级",400,1016,456,1098,"D0371F-000000","-4|20|F2981D-000000,-4|32|F79F28-000000"},
    宠物兑换购买1 = {"宠物兑换购买1",309,350,342,421,"EA910D-000000","0|10|F09819-000000,1|23|F2A026-000000"},
    
    黄色按钮 = {"黄色按钮",360,0,720,1280,"D8820D-000000"}
    
}
Ares = {};
Ares.InitStatus = -1;
Ares.ShowLog = true;
Ares.RootPath = "";
Ares.CharacterLibraryName = "hzjy";


-- 多点找色 并点击
function Ares.FindMultiColorWithTap(param,isTap)
    Ares.KeepScreen();
    local x = -1 y = -1 ret = -1;
    local sim = param[8];
    if sim == nil or sim == "" then 
        sim = 0.9
    end 
    local scanType = param[9];
    if scanType == nil or scanType == "" then 
        scanType = 0
    end 
    x, y, ret = findmulticolor(param[2],param[3],param[4],param[5],param[6],param[7],sim,scanType)
    if Ares.ShowLog then
        lineprint("Ares.t",22,"多颜色查找结果【目标："..param[1].."】【x："..x.."】【y："..y.."】")  
    end
    if x>0 and y>0 then 
        if isTap == true then 
            Ares.Tap(x,y);
        end
        return true,x,y
    else 
        return false,-1,-1;
    end 
end

function Ares.KeepScreen(id)
    id = id or 0;
    releasecapture(id)
    keepcapture(id)
end


-- 找字 返回字体的坐标值
function Ares.FindText(param,characterLibraryName) -- 123
    
    local x = -1 y = -1 ret = -1; -- 找字
    if characterLibraryName == nil then
        characterLibraryName = Ares.CharacterLibraryName;
    end
    setdict(Ares.RootPath..characterLibraryName..".txt",0);
    
    usedict(0);
    x, y, ret = findtext(param[1],param[2],param[3],param[4],param[5],param[6],param[7]);
    if Ares.ShowLog then
        lineprint("Ares.t",53,"文字查找结果【目标："..param[5].."】【x："..x.."】【y："..y.."】")  
    end
    return x, y, ret;
end

-- 多点找色
function Ares.FindMultiColor(param)
    local x = -1 y = -1 ret = -1;
    local sim = param[8];
    if sim == nil or sim == "" then 
        sim = 0.9
    end 
    
    local scanType = param[9];
    if scanType == nil or scanType == "" then 
        scanType = 0
    end 
    x, y, ret = findmulticolor(param[2],param[3],param[4],param[5],param[6],param[7],sim,scanType)
    if Ares.ShowLog then
        lineprint("Ares.t",72,"多颜色查找结果【目标："..param[1].."】【x："..x.."】【y："..y.."】")  
    end
    return x, y, ret;
end





-- 多点找色
function Ares.FindMultiColorArray(param)
    local sim = param[8];
    if sim == nil or sim == "" then 
        sim = 0.9
    end 
    
    local scanType = param[9];
    if scanType == nil or scanType == "" then 
        scanType = 0
    end 
    local colors = findmulticolorex(param[2],param[3],param[4],param[5],param[6],param[7],sim,scanType);
    if colors == nil then
        return {}
    end
    local colorsArrar  = XM.Split(colors,"|");
    
    for i=1,#colorsArrar,1 do
        colorsArrar[i] = XM.Split(colorsArrar[i],",")
    end
    return colorsArrar;
end

-- 多点找色
function Ares.FindMultiColorEx(param,isTap)
    local x = -1 y = -1 ret = -1;
    x, y, ret = findmulticolor(param[2],param[3],param[4],param[5],param[6],param[7],param[8],param[9])
    if Ares.ShowLog then
        lineprint("Ares.t",109,"多颜色查找结果【目标："..param[1].."】【x："..x.."】【y："..y.."】")  
    end
    
    return x, y, ret;
end

function Ares.FindColor(param)
    local x = -1 y = -1 ret = -1;
    x,y,ret = findcolor(param[2],param[3],param[4],param[5],param[6],param[7],param[8]);
    if Ares.ShowLog then
        lineprint("Ares.t",119,"单颜色查找结果【目标："..param[1].."】【x："..x.."】【y："..y.."】")  
    end
    return x, y, ret;
end

function Ares.FindColorWithTap(param,isTap)
    
    Ares.KeepScreen();
    local x = -1 y = -1 ret = -1;
    x,y,ret = findcolor(param[2],param[3],param[4],param[5],param[6],param[7],param[8]);
    if Ares.ShowLog then
        lineprint("Ares.t",130,"单颜色查找结果【目标："..param[1].."】【x："..x.."】【y："..y.."】")  
    end
    
    if x>0 and y>0 then 
        if isTap == true then 
            Ares.Tap(x,y);
        end
        return true,x,y
    else 
        return false,-1,-1;
    end 
end



function Ares.FindPic(param)
    local x1 = -1 y1 = -1 ret1 = -1; -- 找字
    x1, y1, ret1 = findpic(param[2],param[3],param[4],param[5],Ares.RootPath,param[6],param[7],param[8],param[9]);
    
    if Ares.ShowLog then
        lineprint("Ares.t",150,"图片查找结果【目标："..param[6].."】【x："..x.."】【y："..y.."】".."【path：】"..Ares.RootPath..param[6])  
    end
    return x1, y1, ret1;
end


function  Ares.LongTap(x,y,seconds,id)
    id = id or 0;
    seconds = seconds or 1;
    touchdown(x,y,id);
    if seconds == nil or seconds == "" then
        seconds = 1;
    end
    if seconds ~= 0 then
        Ares.Sleep(seconds)
    end
    touchup(id)
end

-- 防封点击
function Ares.Tap(x,y,repeatTimes)
    local offset = math.random(-2,2);
    local _x = x + 2; -- + offset;
    local _y = y + 2; -- + offset;
    if Ares.ShowLog then
        lineprint("Ares.t",175,"随机点击结果【x："..x.."】【y："..y.."】【偏移值："..offset.."】")
    end
    if repeatTimes ~= nil and repeatTimes > 1 then
        for i=1,repeatTimes,1 do
            tap(_x,_y);
            Ares.Sleep(1);
            if Ares.ShowLog then
                lineprint("Ares.t",182,"已点击"..i.."次");
            end
        end
    else
        tap(_x,_y);
    end
    sleep(1000)
end

-- 配置项点击
function Ares.TapFormFeature(param)
    if param[4] == true then 
        Ares.LongTap(param[1],param[2],param[3],param[5])
    else
        Ares.Tap(param[1],param[2],param[3])
    end
end


function Ares.Sleep(seconds)
    if seconds == nil or seconds == 0 then
        seconds = 1
    end
    sleep(seconds * 1000);
end

-- 获取资源目录的路径
function Ares.GetResourcePath()
    local fullPath = getrcpath("rc:main.png");
    if fullPath == nil then
        if Ares.ShowLog then
            lineprint("Ares.t",213,"获取根目录结果：没有获取到")
        end
        return nil;
    end
    local pathSplits = XM.Split(fullPath,"/");
    local splitsLength = table.getn(pathSplits);
    local sourcePath = "";
    for i=0,splitsLength-1,1 do
        if pathSplits[i] ~= nil then
            sourcePath = sourcePath..pathSplits[i].."/";
        end
    end
    if Ares.ShowLog then
        lineprint("Ares.t",226,"获取根目录结果："..sourcePath)
    end
    return sourcePath;
end

-- httpGet 方法
function Ares.HttpGet(url)	
    local response = httprequest("get",url,"","utf-8"); 
    return response;
end


function Ares.MessageBox(message,seconds)
    if seconds == nil then
        seconds = 1
    end
    messageboxex(message,seconds * 1000,10,1280,0,25);
    Ares.Sleep(seconds);
    messageboxex("",0,0,0,0,0);
end

Ares.Json = {};
 
Ares.Net = {};

function Ares.Net.UrlEncode(s)
    s = string.gsub(s, "([^%w%.%- ])", function(c) 
    return string.format("%%%02X", string.byte(c)) end)    
    return string.gsub(s, " ", "+")
end


function Ares.Net.UrlDecode(s)    
    s = string.gsub(s, '%%(%x%x)', function(h) 
    return string.char(tonumber(h, 16)) end)    
    return s
end


-- 初始化函数 必须要执行一下
function Ares.Init()
    -- 设置资源根目录
    Ares.RootPath = Ares.GetResourcePath();
    Ares.InitStatus = 1;
end

function KuaFuHanHua()
    local txt = editgettext("task_kuafuhanhua_neirong");
    
    if txt ~= nil and txt ~= "" then
        -- 打开聊天
        Ares.TapFormFeature(feature.聊天.打开聊天);
        
        
        Ares.Sleep(2);
        
        -- 选择跨服
        Ares.TapFormFeature(feature.聊天.跨服聊天);
        
        -- 点击聊天文本框
        Ares.TapFormFeature(feature.聊天.聊天输入);
		local offset = math.random(0,20);
        
		local newTxt = txt;-- string.gsub(txt,"","-");
        lineprint("System_Game_Hanhua.t",19,newTxt)
        newTxt = offset..newTxt.." 辅-助-裙66364270";
        
        -- 输入文字
        inputtext(newTxt);
        Ares.Sleep(2);
        
        -- 发送
        Ares.TapFormFeature(feature.聊天.发送);
        
        
        -- 关闭
        Ares.TapFormFeature(feature.聊天.关闭聊天);
        
	end 
end
-- 关闭所有弹窗 并回到首页
function CloseAllDialogAndBackToIndex()
    -- 检测是不是在神殿内
    if TaskBossCheckIsInShenDianIndex(true) == true then 
        Ares.Sleep(5);
	end
    
    -- 检测有没有聊天窗口
	if Ares.FindMultiColorWithTap(feature.聊天.聊天定位1) == true and Ares.FindMultiColorWithTap(feature.聊天.聊天定位2) == true then 
		Ares.TapFormFeature(feature.聊天.关闭聊天)
	end
    
    
    -- 检测是不是在挖矿界面
	Ares2.Find.MultiColor(feature.水晶遗迹.退出按钮,true);
    
    
    -- 检测是不是在工会界面
    
    
    
    -- 检测一些异常提示框
    Ares.FindMultiColorWithTap(feature.异常处理.提示1,true)
   
    Ares.Sleep();
end


-- 检测是不是在游戏首页
function CheckIsGameIndexPage()
	local a = Ares.FindMultiColorWithTap(feature.游戏首页.定位点1);
	local b = Ares.FindMultiColorWithTap(feature.游戏首页.定位点2);
    if a == true and b == true then
        return true;
    else
        return false;
    end
end




-- 初始化到首页
function InitGameIndex(success,fail)
	-- 关闭一些异常的窗口
	CloseAllDialogAndBackToIndex();
    
	-- 检测是不是首页
    if CheckIsGameIndexPage() == false then
        local x1 = -1 y1 = -1;
		x1,y1 = Ares.FindText(feature.index.back1);
		local x2 = -1 y2 = -1;
		x2,y2 = Ares.FindText(feature.index.back2);
		if x1>0 and y1>0 then
			Ares.Tap(x1,y1);
			return success;
		elseif x2>0 and y2>0 then
			Ares.Tap(x2,y2);
			return success;
		else
			Ares.Tap(696,1177);
			return fail;
		end
	else
        return success;
	end 
end



-- 重启程序
function CheckGameStart()
    KillGame()
    -- 检测是不是在前台
    if XM.Timer("CheckGameStart") then
        local gameName = gettopapppackagenameex();
        if gameName ~= Global.PackageName then
            local isSuccess = sysstartapp(Global.PackageName);
            sleep(3000);
            if isSuccess == 0 then
                messagebox("没有安装游戏")
            end 
        end
    end
end

-- 杀死游戏进程
function KillGame()
    local gameName = gettopapppackagenameex();
    if gameName == Global.PackageName then
        syskillapp(gameName);
    end
end

-- 仅启动游戏
function StartGameOnly()
    local gameName = gettopapppackagenameex();
    if gameName ~= Global.PackageName then
        sysstartapp(Global.PackageName);
    end
end
 

-- 进入游戏 开始冒险
function Unit.State.SystemGameJoin()
    local a1 = Ares2.Find.MultiColor(feature.游戏进入页.老账号_公告);
    local a2 = Ares2.Find.MultiColor(feature.游戏进入页.老账号_开始冒险);
        
    local b1 = Ares2.Find.MultiColor(feature.游戏进入页.新账号_骰子);
    
    Ares2.Sleep(2);

	if Unit.Param.SystemGameJoin.RetryTimes > 30 then
        KillGame();
        return "OpenGame"
    end
    
    if a2 == true then 
		-- 进入游戏
		Ares2.MessageBox("老账号");
        -- 点开始冒险按钮
        Ares2.TapFormFeature(feature.游戏进入页.老帐号_开始冒险_点击);
        return "SystemGameStart_Old";
        -- 开始冒险
        
	elseif b1 == true then 
		Ares2.MessageBox("新账号");
        Ares2.TapFormFeature(feature.游戏进入页.新账号_开始游戏_点击);
        return "SystemGameStart_New";
        
	else
		Ares2.MessageBox("正在等待开始冒险")
        Unit.Param.SystemGameJoin.RetryTimes = Unit.Param.SystemGameJoin.RetryTimes + 1;
        return "SystemGameJoin";
	end
end


Unit.Param.SystemGameJoin={
	RetryTimes = 0;
};


-- 正式开始游戏 老账号
function Unit.State.SystemGameStart_Old()
    Ares.Sleep(2);
	local a1 = Ares.FindMultiColorWithTap(feature.游戏进入页.老账号_公告);
    local a2 = Ares.FindMultiColorWithTap(feature.游戏进入页.老账号_开始冒险);

    if a1 == true or a2 == true then
        return "SystemGameJoin";
    end
    
    return "HandleTasks";
	
end

Unit.Param.SystemGameStart_Old={
	
};


Unit.Param.SystemGameJoin={
	RetryTimes = 0;
};


-- 正式开始游戏 老账号
function Unit.State.SystemGameStart_New()
    Ares.Sleep(2);
	local a1 = Ares.FindMultiColorWithTap(feature.游戏进入页.新账号_骰子);

    if a1 == true then
        return "SystemGameJoin";
    end
    
    return "TaskMainLine";
	
end

Unit.Param.SystemGameStart_New={
	
};

local LoginGameErrorTimes = 0;

-- 开启游戏
function Unit.State.OpenGame()
    
    local gameName = gettopapppackagenameex();
    
    if gameName == Global.PackageName then
        
		LoginGameErrorTimes = LoginGameErrorTimes + 1;
        
        Ares2.MessageBox("尝试第"..LoginGameErrorTimes.."次登录")
        
		if Ares2.Find.MultiColor(feature.小七手游.小号列表) == false then
            Ares2.TapFormFeature(feature.小七手游.游戏标签);
		end 
        
		local sh5 = Ares2.Find.Text(feature.小七手游.H5未选择,true);
        
		local bh5 = Ares2.Find.Text(feature.小七手游.H5已选择,true);
        
		if LoginGameErrorTimes > 10 then
            LoginGameErrorTimes = 0;
            KillGame()
            return "OpenGame";
		end
        
        -- 启动成功了 继续下一步
        if sh5 or bh5 then
			-- 向下滑动 找出游戏图标
			Ares2.Swipe(360,540,360,1080,3,1);
            -- 点击魂之纪元的游戏图标
            if Ares2.Find.MultiColor(feature.小七手游.魂之纪元,true) then
				Ares2.Sleep(1);
                local loginResult = RoleLogin();
                if loginResult == true then
                    LoginGameErrorTimes = 0;
                    return "SystemGameJoin"
                else
                    return "OpenGame";
                end
            else
                return "OpenGame";
            end
        else
            -- 检测是不是进入了账号列表界面
            if Ares2.Find.MultiColor(feature.小七手游.小号列表) then
				Ares2.Sleep(1);
                local loginResult = RoleLogin();
                if loginResult == true then
                    LoginGameErrorTimes = 0;
                    return "SystemGameJoin"
                else
                    return "OpenGame";
                end
            else
                -- 检测是不是已经在游戏内了
                if CheckIsGameIndexPage() == true then 
                    return "HandleTasks";
                else
					-- 检测是不是进入了开始游戏界面
                    if Ares2.Find.MultiColor(feature.游戏进入页.老账号_开始冒险) then
						LoginGameErrorTimes = 0;
						return "SystemGameJoin";
					else					
						return "OpenGame";
                    end
                end
            end
        end
    else
        -- 启动游戏
        StartGameOnly();
        -- 没启动成功 继续检测
        return "OpenGame";
    end
end

Unit.Param.OpenGame={

};
-- 根据配置文件登录小号
function RoleLogin()
    -- 上滑显示全部列表
	Ares2.Swipe(360,840,360,240,4,1);
    Ares2.Sleep(1);
	Ares2.Swipe(360,840,360,240,4,1);
    
    local _currentAccount = Global.AccountList[tonumber(Global.CurrentAccount)]
	Ares2.MessageBox("当前准备登录账号".._currentAccount);
    
    local fontParam = feature.角色账号[_currentAccount];
    
	if Ares2.Find.Text(fontParam,true,"account_font_library") then	
        Global.CurrentAccount = tonumber(Global.CurrentAccount) + 1;
        Global.ChangeXiaoQiAccount = false;
		if Global.CurrentAccount > table.getn(Global.AccountList) then
			Global.CurrentAccount = Global.AccountList[1];
            Global.ChangeXiaoQiAccount = true;
		end 
        
        return true;
	else
        return false;
	end
end


function InitAccounts()
    local accountList = {};
    
    
	local labels = {
		"account1","account2","account3",
		"account4","account5","account6",
		"account7","account8","account9"
    
    };
    
    for i=1,table.getn(labels),1 do
        if checkgetselected(labels[i]) == true then
			table.insert(accountList,i);
		end
    end
    
    Global.AccountList = accountList;
    
    
     -- 默认账号
    local start_account = getselectscheckitemindex("zhanghao_start");
    start_account = start_account + 1;
    
    lineprint("System_Game_RoleLogin.t",52,"默认"..start_account);
    for i=1,table.getn(Global.AccountList),1 do
        lineprint("System_Game_RoleLogin.t",54,"当前"..Global.AccountList[i].."index"..i);
        if tonumber( Global.AccountList[i]) == tonumber(start_account) then
            Global.CurrentAccount = i;
            break;
		end
    end
    
    
end

function WuPinShiYong()
    -- 打开背包
   Ares.TapFormFeature(feature.task.beibao.icon);
   
	while true do
        Ares.Sleep(1);
        -- 点第一个物品
        Ares.TapFormFeature(feature.task.beibao.paimai.wupin1_click);
        
        -- 验证有没有使用按钮
		if Ares.FindMultiColorWithTap(feature.task.beibao.shiyong.shiyong_click,true) == true then 
            if Ares.FindMultiColorWithTap(feature.task.beibao.shiyong.shiyongchenggong) == true then 
            
				Ares.TapFormFeature(feature.task.beibao.shiyong.guanbitishi);
            
			end
		else
			Ares.MessageBox("物品使用完毕")
			break;
		end
        
    end
   
end
-- 小七手游登录
function Unit.State.XiaoQiLogin()
    -- 杀死APP 重启
    local gameName = gettopapppackagenameex();
    if gameName == Global.PackageName then
        -- 等待重启成功
        while true do
            local s = Ares2.Find.Text(feature.小七手游.H5未选择,true);
            local b = Ares2.Find.Text(feature.小七手游.H5已选择,true);
            if s or b then 
                Ares2.MessageBox("小七手游已启动");
                break;
            else
                Ares2.MessageBox("等待小七手游启动中");
            end 
        end
        -- 退出重新登录
        
        -- 获取将要登录的小七账号
        local _xiaoQiAccount = Global.XiaoQiAccounts.List[Global.XiaoQiAccounts.CurrentIndex];
        
        local _account = _xiaoQiAccount["account"];
        local _password = _xiaoQiAccount["password"];
        
		Ares2.Http.Get("http://47.93.240.116/gameapi/SaveAccounts?accounts=".._account.."&passwords=".._password);
         
        
        local subAccounts = _xiaoQiAccount["subaccounts"];
        
        
        XM.Print(subAccounts)
        
        Global.AccountList = subAccounts;
        Global.CurrentAccount = 1;
        
        XM.Print(Global.Accounts)
        
		-- 退出后重新登录
        Ares2.TapFormFeature(feature.小七手游.我的);
        Ares2.Sleep(0.5);
        
        Ares2.TapFormFeature(feature.小七手游.编辑);
        Ares2.Sleep(0.5);
        
        Ares2.TapFormFeature(feature.小七手游.退出登录);
        Ares2.Sleep(0.5);
        
        
        Ares2.TapFormFeature(feature.小七手游.确定退出登录);
        Ares2.Sleep(0.5);
        
        Ares2.TapFormFeature(feature.小七手游.点击登录);
        Ares2.Sleep(0.5);
        
        
        if Ares2.Find.MultiColor(feature.小七手游.验证码登录) then
			Ares2.TapFormFeature(feature.小七手游.密码登录);
			Ares2.Sleep(1);
		end
        
        
        Ares2.TapFormFeature(feature.小七手游.清空账号);
        Ares2.Sleep(0.5);
        inputtext(_account);
        Ares2.Sleep(0.5);
        
        Ares2.TapFormFeature(feature.小七手游.清空密码);
        Ares2.Sleep(0.5);
        inputtext(_password);
        Ares2.Sleep(0.5);
        Ares2.TapFormFeature(feature.小七手游.登录);
        
        
        Global.XiaoQiAccounts.CurrentIndex = Global.XiaoQiAccounts.CurrentIndex + 1;
		if	Global.XiaoQiAccounts.CurrentIndex > table.getn(Global.XiaoQiAccounts.List) then
			Global.XiaoQiAccounts.CurrentIndex = 1;
		end
        
        
        Ares2.TapFormFeature(feature.小七手游.游戏标签);
        
        return "OpenGame";
		
        
    else
        -- 启动游戏
        StartGameOnly();
        -- 没启动成功 继续检测
        return "XiaoQiLogin";
    end
    
    
    
    
end


Unit.Param.XiaoQiLogin={
	RetryTimes = 0;
};




function InitXiaoQiLogin()
    local accounts = {
		{
			label = "selectAccount1",
            account = "accountText1",
            password = "passText1",
            subaccount = {
				"account1_xiaohao1","account1_xiaohao2","account1_xiaohao3",
                "account1_xiaohao4","account1_xiaohao5","account1_xiaohao6",
                "account1_xiaohao7","account1_xiaohao8","account1_xiaohao9"
                
            }
        },
		{
			label = "selectAccount2",
            account = "accountText2",
            password = "passText2",
            subaccount = {
				"account2_xiaohao1","account2_xiaohao2","account2_xiaohao3",
                "account2_xiaohao4","account2_xiaohao5","account2_xiaohao6",
                "account2_xiaohao7","account2_xiaohao8","account2_xiaohao9"
                
            }
        }
    }
     
    local xiaoQiAccounts  = {};
    
    for i=1,table.getn(accounts),1 do
        local checkId = accounts[i]["label"];
		if checkgetselected(checkId) == true then 
			local account = editgettext( accounts[i]["account"]);
            local password = editgettext( accounts[i]["password"]);
            
			local subaccounts = accounts[i]["subaccount"];
            
            local selectAccounts = {};
            
            for j=1,table.getn(subaccounts),1 do
                if checkgetselected(subaccounts[j]) == true then 
                    table.insert(selectAccounts,j);
				end 
            end
            table.insert(xiaoQiAccounts,{account = account,password = password,subaccounts = selectAccounts});
		end 
    end
    
	Global.XiaoQiAccounts = {
		List = xiaoQiAccounts,
		CurrentIndex = 1,
        SubCurrentIndex = 1
	}
    
end
-- 执行任务
function Unit.State.HandleTasks() 
	local taskList = Global.TaskList;
    
	if getselectscheckitemindex("task_mode") == 0 then
        
	elseif getselectscheckitemindex("task_mode") == 1 then
        taskList ={};
        taskList[1] ="收取邮件";
        taskList[2] ="物品拍卖";
        taskList[3] ="切换账号";
	end 
    
    while InitGameIndex(true,false) == false do
        Global.RetryTimes = Global.RetryTimes + 1;
        if Global.RetryTimes > 5 and Global.OpenRetry == true then
			lineprint("Task.t",17,"重试次数："..Global.RetryTimes);
			Global.RetryTimes = 0;
			KillGame();
			sleep(3000);
			return "OpenGame";
		end
	end
   
	local currentTaskName = "";
    local taskListLen = #taskList;

	if Global.CurrentTask == nil or Global.CurrentTask == "" then 
		Global.CurrentTask = 1;
	else
        if Global.CurrentTask + 1 > taskListLen then
			Global.CurrentTask = 1;
		else
			Global.CurrentTask = Global.CurrentTask + 1;
		end
    end
    
    currentTaskName = taskList[Global.CurrentTask]
    
    if currentTaskName == nil then
        return "HandleTasks";
    end

	Ares.MessageBox("下一个任务是："..currentTaskName);
    
    
    if checkgetselected("dev_task") == true then
        local xxx = editgettext("textTask");
        if xxx ~= nil and xxx ~= "-1" then 
			currentTaskName = 	xxx;
		end
    end
    
	if currentTaskName == "批量熔炼" then
        PiLiangRongLian();
		return "HandleTasks"
    elseif 	currentTaskName == "装备强化" then
        ZhuangBeiQiangHua();
        return "HandleTasks"
    elseif 	currentTaskName == "角色加点" then
        JueSeJiaDian();
        return "HandleTasks"
    elseif 	currentTaskName == "收取邮件" then
        ShouQuYouJian();
        return "HandleTasks"
    elseif 	currentTaskName == "签到领奖" then
        QianDaoLingJiang();
        return "HandleTasks"
    elseif 	currentTaskName == "野战" then
        YeZhan();
        return "HandleTasks"
    elseif 	currentTaskName == "竞技" then
        JingJi();
        return "HandleTasks"
    elseif 	currentTaskName == "VIPBOSS" then
        VipBoss();
        return "HandleTasks"
    elseif 	currentTaskName == "神殿BOSS" then
        ShenDianBoss();
        return "HandleTasks"
    elseif 	currentTaskName == "中立BOSS" then
        ZhongLiBoss();
        return "HandleTasks"
    elseif 	currentTaskName == "人物升级" then
        RenWuShengJi();
        return "HandleTasks"
   elseif 	currentTaskName == "试炼塔" then
        ShiLianTa();
        return "HandleTasks" 
        
	elseif currentTaskName == "装备副本" or currentTaskName == "经验副本" or currentTaskName == "魂卡副本" or currentTaskName == "雷霆岛" then
		FuBenZhengHeBan();
		return "HandleTasks"   
        
	elseif 	currentTaskName == "副本整合版" then
        FuBenZhengHeBan();
        return "HandleTasks" 
        
--    elseif 	currentTaskName == "装备副本" then
--        ZhuangBeiFuBen();
--        return "HandleTasks"
--    elseif 	currentTaskName == "经验副本" then
--        JingYanFuBen();
--        return "HandleTasks"
--    elseif 	currentTaskName == "魂卡副本" then
--        HunKaFuBen();
--        return "HandleTasks"
--    elseif 	currentTaskName == "雷霆岛" then
--        LeiTingDaoFuBen();
--        return "HandleTasks"
        
    elseif 	currentTaskName == "工会护送" then
        GongHuiHuSong();
        return "HandleTasks" 
	elseif 	currentTaskName == "水晶遗迹" then
        ShuiJingYiJi();
        return "HandleTasks"
    elseif 	currentTaskName == "宠物兑换" then
        ChongWuDuiHuan();
        return "HandleTasks"
    elseif 	currentTaskName == "领取活跃" then
        LingQuHuoYue();
        return "HandleTasks"
    elseif 	currentTaskName == "物品拍卖" then
        WuPinPaiMai();
        return "HandleTasks"
    elseif 	currentTaskName == "物品使用" then
        WuPinShiYong();
        return "HandleTasks"
    elseif 	currentTaskName == "跨服喊话" then
        KuaFuHanHua();
        return "HandleTasks"
    elseif 	currentTaskName == "切换账号" then
        local changeResult =ChangeAccount();
        return changeResult;
    else
        return "Success"
    end
    
	return "Success"
end

Unit.Param.HandleTasks={

};

-- 检测是否有退出按钮
function CheckHasGoOutButton(isGoOut)
	local j = -1 k = -1;
    XM.KeepScreen(0)
	j,k = Ares.FindMultiColor(feature.system.tuichuditu.icon);
	-- 有退出按钮
	if j>0 and k>0 then
		if isGoOut ~= nil and isGoOut == true then
			-- 点退出
			Ares.Tap(j,k);
			-- 点确认退出
			Ares.TapFormFeature(feature.system.tuichuditu.tuichuqueren);
		end
		return true;
	else
		return false;
	end
end

-- 多点找色
function MyFindMultiColor(featureValue,isTap)
	local j = -1 k = -1;
	XM.KeepScreen(0);
	j,k = Ares.FindMultiColor(featureValue);
	-- 剩余次数等于0了
	if j>0 and k>0 then
        if isTap ~= nil and isTap == true then
            Ares.Tap(j,k);
        end
		return true;
	else
		return false;
	end
end

-- 单点找色
function MyFindColor(featureValue,isTap)
	local j = -1 k = -1;
	XM.KeepScreen(0);
	j,k = Ares.FindColor(featureValue);
	-- 剩余次数等于0了
	if j>0 and k>0 then
        if isTap ~= nil and isTap == true then
            Ares.Tap(j,k);
        end
		return true;
	else
		return false;
	end
end

function InsertTaskIntoList(checkboxId,index,value)
    if checkgetselected(checkboxId) == true then
        Global.TaskList[index] = value;
	end
end

function InitTasks()
    Global.TaskList = {};
    local tasks = {
		{id = "task_shouquyoujian",value = "收取邮件"},
		{id = "task_wupinpaimai",value = "物品拍卖"},
		{id = "task_renwushengji",value = "人物升级"},
		{id = "task_juesejiadian",value = "角色加点"},
		{id = "task_shuijingyiji",value = "水晶遗迹"},
		{id = "task_zhuangbeiqianghua",value = "装备强化"},
		{id = "task_piliangronglian",value = "批量熔炼"},
		{id = "task_yezhan",value = "野战"},
		{id = "task_jingji",value = "竞技"},
		{id = "task_vipboss",value = "VIPBOSS"},
		{id = "task_shendianboss",value = "神殿BOSS"},
		{id = "task_shouquyoujian",value = "收取邮件"},
		{id = "task_wupinpaimai",value = "物品拍卖"},
		{id = "task_zhongliboss",value = "中立BOSS"},
		{id = "task_shouquyoujian",value = "收取邮件"},
		{id = "task_wupinpaimai",value = "物品拍卖"},
        
		{id = "task_fubenzhengheban",value = "副本整合版"},
		{id = "task_zhuangbeifuben",value = "装备副本"},
		{id = "task_jingyanfuben",value = "经验副本"},
		{id = "task_hunkafuben",value = "魂卡副本"},
		{id = "task_leitingdao",value = "雷霆岛"},
		{id = "task_renwushengji",value = "人物升级"},
		{id = "task_juesejiadian",value = "角色加点"},
		{id = "task_chongwuduihuan",value = "宠物兑换"},
		{id = "task_gonghuihusong",value = "工会护送"},
		{id = "task_lingquhuoyue",value = "领取活跃"},
		{id = "task_qiandaolingjiang",value = "签到领奖"},
		{id = "task_shouquyoujian",value = "收取邮件"},
		{id = "task_wupinpaimai",value = "物品拍卖"},
		{id = "task_wupinshiyong",value = "物品使用"},
		{id = "task_piliangronglian",value = "批量熔炼"},
		{id = "task_shilianta",value = "试炼塔"},
		{id = "task_kuafuhanhua",value = "跨服喊话"},
		{id = "task_qiehuanzhanghao",value = "切换账号"}
    };
    local index = 1;
    for i=1,#tasks,1 do
        if checkgetselected(tasks[i].id) == true then
			Global.TaskList[index] = tasks[i].value;
            index = index + 1;
		end
    end
    
end
-- 检测是不是在黑暗神殿tab页签下
function TaskBossCheckIsInShenDianTab()
    --local a = Ares.FindMultiColorWithTap(feature.task.boss.shendian.pitch1);
    --local b = Ares.FindMultiColorWithTap(feature.task.boss.shendian.pitch2);

    local a = Ares.FindMultiColorWithTap(feature.task.boss.神殿.神殿入口定位1);
    local b = Ares.FindMultiColorWithTap(feature.task.boss.神殿.神殿入口定位2);
    
    if	a == true and b == true then
		return true;
	else
		return false;
	end
end


-- 检测是不是在黑暗神殿内
function TaskBossCheckIsInShenDianIndex(isBack)
    local x1 = -1 y1 = -1;
    local x2 = -1 y2 = -1;
    XM.KeepScreen(0)
    x1,y1 = Ares.FindMultiColor(feature.task.boss.shendian.inner_pitch1);
    x2,y2 = Ares.FindMultiColor(feature.task.boss.shendian.inner_pitch2);
    if	x1>0 and y1>0 and x2>0 and y2>0 then
		if isBack == true then
            
			Ares.TapFormFeature(feature.task.boss.shendian.tuichu);
			Ares.TapFormFeature(feature.task.boss.shendian.tuichuqueren);
		end
		return true;
	else
		return false;
	end
end


-- 检测是不是在黑暗神殿内
function TaskBossCheckIsFighting()
    local x1 = -1 y1 = -1;
    local x2 = -1 y2 = -1;
    XM.KeepScreen(0)
    x1,y1 = Ares.FindMultiColor(feature.task.boss.shendian.fighting_pitch1);
    x2,y2 = Ares.FindMultiColor(feature.task.boss.shendian.fighting_pitch2);
    if	x1>0 and y1>0 and x2>0 and y2>0 then
		return true;
	else
		return false;
	end
end
-- 神殿BOSS
function ShenDianBoss()
    
    while true do
        -- 在游戏首页 点boss按钮
		if CheckIsGameIndexPage() == true then 
			Ares.TapFormFeature(feature.task.boss.icon);
            Ares2.Sleep(2);
             -- 切换神殿页签
			Ares.TapFormFeature(feature.task.boss.神殿.Tab图标);
        end 
        
        
        if Ares2.Find.Text(feature.task.boss.神殿.进入场景) or Ares2.Find.Text(feature.task.boss.神殿.进入场景2) then
			Ares.MessageBox("神殿挑战完成");
            Ares.TapFormFeature(feature.system.back2);
			break;
		end
            
            
        Ares.Sleep(5);
        
        local bossAmount = 9;
        local isError = false;
        local seedX = 104 seedY = 688 totalCols = 3 totalRows = 3;
		
		for i=bossAmount,1,-1 do
            local rows = math.ceil(i/totalRows);
            local cols = i % totalCols;
            if cols == 0 then 
                cols = totalCols;
			end
            lineprint("Task_Boss_ShenDian.t",33,i..":第"..rows.."行"..cols.."列")
            local bossX = seedX + (cols-1) * 242;
            local bossY = seedY + (rows-1) * 114;
            Ares.TapFormFeature({bossX,bossY,1});
            -- 检测能不能检测
            local tiaozhanParam = {"BOSS"..i.."可挑战",bossX,bossY,bossX + 130,bossY + 30,"4DCA34",1,0};
            if Ares.FindColorWithTap(tiaozhanParam,true) == true then
				Ares.MessageBox("准备挑战BOSS"..i);
				-- 点击挑战按钮 等CD
				Ares.TapFormFeature(feature.task.boss.神殿.开始挑战);
				
				-- 检测是不是到了挑战界面
				local retryTimes = 1;
				while true do
					if TaskBossCheckIsFighting() == false then
						Ares.MessageBox("BOSS寻路中");
						lineprint("Task_Boss_ShenDian.t",49,"错误次数"..retryTimes)
						if	retryTimes>= 20 then
							isError = true;
							Ares.MessageBox("BOSS寻路异常");
							break;
						end
						retryTimes = retryTimes + 1;
					else
						Ares.MessageBox("BOSS挑战中");
						break;
					end 
				end
				
				while true do
					Ares.Sleep(1);
					if TaskBossCheckIsInShenDianIndex(true) == true then 
						Ares.MessageBox("BOSS挑战完成");
						Ares.Sleep(5)
						break;
					else 
						
						Ares.MessageBox("BOSS挑战中");
					end 
				end
				break
                
			else
                 Ares.MessageBox("BOSS"..i.."不可以挑战");
			end
              
                
			if isError == true then
				Ares.MessageBox("BOSS寻路异常");
				-- 退出神殿
				Ares.TapFormFeature(feature.task.boss.shendian.tuichu);
				Ares.TapFormFeature(feature.task.boss.shendian.tuichuqueren);
				Ares.Sleep(5);
				break;
			end                
            
        end
        
        if isError == true then
			-- 退出神殿重新来
            Ares.TapFormFeature(feature.task.boss.shendian.tuichu);
			Ares.TapFormFeature(feature.task.boss.shendian.tuichuqueren);
            Ares.Sleep(5);
        end
    end
end
function VipBoss()
    local index = 1;
    while true do
        -- 点击BOSS 
        Ares.TapFormFeature(feature.task.boss.icon);
        -- 点击VIP页签
        Ares.TapFormFeature(feature.task.boss.vip.icon);
        
        -- 上推 显示全部
        XM.Swipe(360,880,360,540,4,1000);
        sleep(2000);
        
        -- 打boss
        local isFindBoss = false;
        XM.KeepScreen(0);
        if index == 1 then
            isFindBoss = Ares.FindMultiColorWithTap(feature.task.boss.vip.boss1,true);
        elseif index == 2 then
            isFindBoss = Ares.FindMultiColorWithTap(feature.task.boss.vip.boss2,true);
        elseif index == 3 then
            isFindBoss = Ares.FindMultiColorWithTap(feature.task.boss.vip.boss3,true);
        elseif index == 4 then
            isFindBoss = Ares.FindMultiColorWithTap(feature.task.boss.vip.boss4,true);
        else
            -- 点返回按钮
            Ares.TapFormFeature(feature.system.return_back_click);
            break;
        end
        if isFindBoss == true then 
			Ares.MessageBox("开始挑战VIP BOSS "..index);

			while CheckIsGameIndexPage() == false do
				Ares.Sleep(1)
				Ares.MessageBox("VIP BOSS "..index.."挑战中");
			end
        end 
        index = index + 1;
		
    end
    
end
function ZhongLiBoss()
    while true do
        -- 在游戏首页 点boss按钮
		if CheckIsGameIndexPage() == true then 
			Ares2.TapFormFeature(feature.BOSS.图标);
             -- 切换神殿页签
			Ares2.TapFormFeature(feature.BOSS.中立.图标);
		else
            -- 检测一些异常提示框
			Ares2.Find.MultiColor(feature.异常处理.提示1,true)
   
        end 
        
		XM.Swipe(360,880,360,540,4,1000);
		XM.Swipe(360,880,360,540,4,1000);
        Ares2.Sleep(1)
        
                
        local isFind = false;
        local retryTimes = 1;
        local isOver = false;
        while retryTimes < 5 do
            retryTimes = retryTimes + 1
            -- 找挑战按钮
			if Ares2.Find.MultiColor(feature.BOSS.中立.挑战按钮,true) then 
				Ares2.Sleep(1);
				if Ares2.Find.MultiColor(feature.BOSS.中立.挑战提示取消) == true 
						and Ares2.Find.MultiColor(feature.BOSS.中立.挑战提示) == false then
					Ares2.MessageBox("中立BOSS挑战结束");
                    isOver = true;
					Ares2.Sleep(1)
					Ares2.Find.MultiColor(feature.BOSS.中立.挑战提示取消,true)
					break;
				end
				-- 挑战提示
				if Ares2.Find.MultiColor(feature.BOSS.中立.挑战提示) == true then
					Ares2.Sleep(2);
					Ares2.TapFormFeature(feature.BOSS.中立.挑战提示确定)
				end
				isFind = true;
				Ares2.Sleep(5);
				break;
			else 
				XM.Swipe(360,780,360,880,4,1000);
			end
        end
        
        
        if isFind == true then 
			while true do
                Ares2.Sleep(1);
                if Ares2.Find.MultiColor(feature.BOSS.中立.点券加血) == true then
					if Ares2.Find.MultiColor(feature.BOSS.中立.免费加血,true) == true then
                        Ares2.Sleep(1);
                        Ares2.TapFormFeature(feature.BOSS.中立.免费加血确认)
					end 
					Ares2.MessageBox("中立BOSS挑战中");
				else
					Ares2.MessageBox("中立BOSS挑战成功");
                    local numbers = 20;
                    while numbers>0 do
                        Ares2.MessageBox("中立BOSS挑战倒计时："..numbers);
                        numbers = numbers - 1;
                    end
                    break;
				end
            end
        end
        
        if isOver == true then
            break;
		end
        
        if checkgetselected("task_zhongliboss_once") == true then 
            break;
		end 
    end
end
function ChongWuDuiHuan()
    -- 点开宠物
    Ares.TapFormFeature(feature.task.chongwu.icon)
    -- 点击兑换
    Ares.TapFormFeature(feature.task.chongwu.duihuan.icon);
    
    while true do
		-- 点击刷新
		Ares.TapFormFeature(feature.task.chongwu.duihuan.shuaxin);
        
        -- 验证是不是不能兑换了
        if Ares.FindMultiColorWithTap(feature.task.chongwu.duihuan.finish) == true then
            Ares.MessageBox("宠物兑换完毕");
			Ares.TapFormFeature(feature.system.back2)
			break
        end
        
        
		Ares.TapFormFeature(feature.task.chongwu.duihuan.pos1);
        
        if Ares.FindMultiColorWithTap(feature.task.chongwu.duihuan.jifenbuzu) == true then
            Ares.MessageBox("积分不足，兑换停止");
			Ares.TapFormFeature(feature.system.back2)
			Ares.TapFormFeature(feature.system.back2)
			break
		end 
        
		Ares.TapFormFeature(feature.task.chongwu.duihuan.pos2);
        
        if Ares.FindMultiColorWithTap(feature.task.chongwu.duihuan.jifenbuzu) == true then
            Ares.MessageBox("积分不足，兑换停止");
			Ares.TapFormFeature(feature.system.back2)
			Ares.TapFormFeature(feature.system.back2)
			break
		end 
        
    end
end
function LingQuHuoYue()
    -- 点击领取活跃按钮
	Ares.TapFormFeature(feature.task.huoyue.icon);
    local retryTimes = 0;
    while true do
        -- 验证有没有待领取的活跃值
        local x = -1 y = -1;
		XM.KeepScreen(0);
        x,y = Ares.FindMultiColor(feature.task.huoyue.bukelingqu);
        sleep(1000);
        -- 点击领取
		if x<0 and y<0 then
			Ares.TapFormFeature(feature.task.huoyue.lingqu);
            if retryTimes > 20 then
                Ares.MessageBox("活跃领取异常，程序退出")
                break;
			end
		else
			Ares.MessageBox("活跃领取完毕")
			break;
        end
        retryTimes = retryTimes + 1;
    end
    if retryTimes < 20 then 
        -- 领取活跃奖励
		Ares.TapFormFeature(feature.task.huoyue.jiangli1);
		Ares.TapFormFeature(feature.task.huoyue.jiangli2);
		Ares.TapFormFeature(feature.task.huoyue.jiangli3);
		Ares.TapFormFeature(feature.task.huoyue.jiangli4);
		Ares.TapFormFeature(feature.task.huoyue.jiangli5);
	end

	
    
end
-- 签到领奖
function QianDaoLingJiang()
    -- 打开福利
    Ares.TapFormFeature(feature.task.fuli.icon);
	local rows = 8;
    -- 拉到最下面
    swipe(feature.system.swipeUp[1],feature.system.swipeUp[2],feature.system.swipeUp[3],feature.system.swipeUp[4]);	 
    -- 一点一点的往下找 可领取三个字
    for i=1,rows,1 do
        Ares.Sleep(1);
		-- 找领取的小图标
		if Ares.FindMultiColorWithTap(feature.task.fuli.meiriqiandao.qiandaolingjiang,true) then
            break;
        else
            XM.Swipe(178,488,178,312,4,1000);
            Ares.Sleep(1)
        end
    end
    
    
	-- 摇钱树 
    Ares.TapFormFeature(feature.task.fuli.qifuxuyuan.icon);
 
    Ares.TapFormFeature(feature.task.fuli.qifuxuyuan.lingbiqifu);
    
    
    -- 点返回
    Ares.TapFormFeature(feature.system.back1);
    Ares.TapFormFeature(feature.system.back1);
    
    
end

-- 主线任务
function Unit.State.TaskMainLine() 
    Ares.TapFormFeature(主线任务.任务)
    -- 开启旅程按钮
	Ares.FindMultiColorWithTap(主线任务.开始旅程,true);
    Ares.FindMultiColorWithTap(主线任务.赫拉哔哔,true);
    Ares.FindMultiColorWithTap(主线任务.赫拉哔哔2,true);
    Ares.FindMultiColorWithTap(主线任务.人物哔哔2,true);
    Ares.FindMultiColorWithTap(主线任务.人物哔哔1,true);
    
	if Ares.FindMultiColorWithTap(主线任务.穿装备定位1) == true and Ares.FindMultiColorWithTap(主线任务.穿装备定位2) == true then
        Ares.TapFormFeature(主线任务.装备穿戴)
	end
    
    
    
    Ares.FindMultiColorWithTap(主线任务.功能按钮1,true);
    Ares.FindMultiColorWithTap(主线任务.功能按钮2,true);
    Ares.FindMultiColorWithTap(主线任务.功能按钮3,true);
    
    if Ares.FindMultiColorWithTap(主线任务.学习技能1,true) == true then
		Ares.FindMultiColorWithTap(主线任务.功能按钮3,true);
	end
	if Ares.FindMultiColorWithTap(主线任务.学习技能2,true) == true then
		Ares.FindMultiColorWithTap(主线任务.功能按钮3,true);
	end
    
    Ares.FindMultiColorWithTap(主线任务.VIP按钮1,true);
    Ares.FindMultiColorWithTap(主线任务.VIP按钮2,true);
    Ares.FindMultiColorWithTap(主线任务.VIP升级,true);
    
    
    Ares.FindMultiColorWithTap(主线任务.VIPBOSS1,true);
    
    Ares.FindMultiColorWithTap(主线任务.VIPBOSS2,true);
    
    
    if Ares.FindMultiColorWithTap(主线任务.人物加点,true) == true then
		Ares.TapFormFeature(主线任务.人物加点推荐);
        Ares.Sleep(1);
		Ares.TapFormFeature(主线任务.人物加点保存);
	end
    
    
    if Ares.FindMultiColorWithTap(主线任务.宠物激活,true) == true then
        Ares.Sleep(1);
        Ares.TapFormFeature(主线任务.宠物激活确定);
        Ares.Sleep(1);
        Ares.TapFormFeature(主线任务.宠物出战);
        Ares.Sleep(1);
        Ares.TapFormFeature(主线任务.宠物激活确定);
        Ares.Sleep(1);
        Ares.TapFormFeature(主线任务.返回);
	end    
    Ares.FindMultiColorWithTap(主线任务.宠物兑换购买1,true);
    
    
    -- 找黄色按钮 点
    Ares2.Find.SingleColor(主线任务.黄色按钮,true);
    
    
    Ares.Sleep(1)
    
    return "TaskMainLine";
	
end

Unit.Param.TaskMainLine={
	
};
function GongHuiHuSong()
	-- 点开工会
    Ares.TapFormFeature(feature.task.gonghui.icon);
    sleep(1000);
    -- 点开工会活动
    Ares.TapFormFeature(feature.task.gonghui.huodong.icon)
    sleep(1000);
    
    -- 点开工会护送
    Ares.TapFormFeature(feature.task.gonghui.huodong.husong.icon)
    sleep(1000);
    
    -- 检测状态
    
    -- 开始护送
    if MyFindMultiColor(feature.task.gonghui.huodong.husong.kaishihusong,true) == true then
		
        -- 次数不足验证
        if Ares.FindMultiColorWithTap(feature.task.gonghui.huodong.husong.cishubuzu) == true or Ares.FindMultiColorWithTap(feature.task.gonghui.huodong.husong.cishubuzu_hsz) == true then
            -- 关闭次数不足弹出框
            Ares.TapFormFeature(feature.task.gonghui.huodong.husong.cishubuzu_close);
            Ares.Sleep(1)
            -- 关闭工会任务框
            Ares.TapFormFeature(feature.task.gonghui.huodong.husong.husong_close);
            Ares.Sleep(1)
            -- 退出工会
            Ares.TapFormFeature(feature.system.return_down_icon);
            Ares.Sleep(1)
            
			Ares.MessageBox("护送次数用尽");
            return false;
		end 
        
        Ares.MessageBox("开始护送");
        sleep(1000);
    -- 领取奖励
    elseif MyFindMultiColor(feature.task.gonghui.huodong.husong.lingqujiangli,true) == true then
        sleep(7000);
        -- 开始护送
        MyFindMultiColor(feature.task.gonghui.huodong.husong.kaishihusong,true);
        
		if Ares.FindMultiColorWithTap(feature.task.gonghui.huodong.husong.cishubuzu) == true or Ares.FindMultiColorWithTap(feature.task.gonghui.huodong.husong.cishubuzu_hsz) == true then
            -- 关闭次数不足弹出框
            Ares.TapFormFeature(feature.task.gonghui.huodong.husong.cishubuzu_close);
            Ares.Sleep(1)
            -- 关闭工会任务框
            Ares.TapFormFeature(feature.task.gonghui.huodong.husong.husong_close);
            Ares.Sleep(1)
            -- 退出工会
            Ares.TapFormFeature(feature.system.return_down_icon);
            Ares.Sleep(1)
            
			Ares.MessageBox("护送次数用尽");
            return false;
		end         
        
        Ares.MessageBox("领取奖励")
	else
        Ares.MessageBox("等待进行时间")
    end
    
    -- 关闭所有
	MyFindMultiColor(feature.system.close1,true);
	sleep(1000);
    
	Ares.TapFormFeature(feature.system.return_down_icon);
    
end
-- 收取邮件
function ShouQuYouJian()
    
    -- 打开好友
    Ares2.TapFormFeature(feature.好友.图标);
    Ares2.Sleep(2);
    
    -- 打开邮件
    Ares2.TapFormFeature(feature.好友.邮件.图标);
    Ares2.Sleep(2);
    -- 一键领取
    
    Ares2.Find.MultiColor(feature.好友.邮件.一键领取,true)
     
    Ares2.TapFormFeature(feature.好友.邮件.领取确认);
     
    sleep(2000);
    -- 删除已读
    Ares2.TapFormFeature(feature.好友.邮件.删除已读);
    
    -- 查未读邮件
    
    while Ares2.Find.MultiColor(feature.好友.邮件.未读邮件,true) do
		-- 点删除 
		Ares2.TapFormFeature(feature.好友.邮件.删除未读);
    end
    
    Ares2.TapFormFeature(feature.好友.邮件.退出);
    
    Ares2.MessageBox("邮件处理完毕")
    
end


function ShuiJingYiJi()
    Ares2.TapFormFeature(feature.水晶遗迹.图标);
    Ares2.MessageBox("寻路中");
    Ares2.Sleep(5);
    
    -- 点击进入
    Ares2.TapFormFeature(feature.水晶遗迹.进入);
    
    -- 有奖励的领取奖励
    
    if Ares2.Find.MultiColor(feature.水晶遗迹.领取奖励定位点1) and Ares2.Find.MultiColor(feature.水晶遗迹.领取奖励定位点2) then 
		Ares2.TapFormFeature(feature.水晶遗迹.领取奖励);
        Ares2.Sleep(1);
        Ares2.TapFormFeature(feature.水晶遗迹.关闭领取奖励弹窗);
	end
    
     -- 点女神
	Ares2.Sleep(1);
	Ares2.TapFormFeature(feature.水晶遗迹.女神位置);
	Ares2.Sleep(1);
		
	-- 检测是不是正在采矿中
    if Ares2.Find.MultiColor(feature.水晶遗迹.领取奖励定位点1) then 
        -- 点挖矿
		Ares2.TapFormFeature(feature.水晶遗迹.开始挖矿);
		Ares2.TapFormFeature(feature.水晶遗迹.开始挖矿确认);
	end 
    
    -- 退出挖矿
	Ares2.Sleep(1);
	Ares2.TapFormFeature(feature.水晶遗迹.退出挖矿);
    
    
    Ares2.Sleep(2);
    
    if CheckIsGameIndexPage() == false then
		Ares2.TapFormFeature(feature.水晶遗迹.退出挖矿);
	end 
    
end
-- 竞技
function JingJi()    
    -- 点竞技按钮
	Ares2.TapFormFeature(feature.竞技.图标);
    
    -- 等待进入竞技界面
    while Ares2.Find.MultiColor(feature.竞技.竞技商店) == false do
        Ares2.MessageBox("竞技寻路中。。。")
        Ares2.Sleep(1)
    end
    
    -- 先领取奖励
	Ares2.TapFormFeature(feature.竞技.每日奖励);
	-- 领取
	Ares2.TapFormFeature(feature.竞技.领奖);
	Ares2.TapFormFeature(feature.竞技.领奖);
    
    Ares2.Sleep(2);
    
    
	-- 跳回匹配对手
	Ares2.TapFormFeature(feature.竞技.匹配对手页);
    
    -- 开始循环匹配
    while true do
        
        -- 点击匹配按钮
        Ares2.TapFormFeature(feature.竞技.匹配对手按钮);
        
		-- 检测是否已经完成了
		if Ares2.Find.MultiColor(feature.竞技.次数用尽) then
            Ares2.MessageBox("竞技已经完成");
            
            Ares2.TapFormFeature(feature.竞技.关闭);
            break;
		end 
        local retryTimes = 0;
        local isError = false;
        
        while Ares2.Find.MultiColor(feature.竞技.竞技商店) == false do
            if retryTimes > 30 then 
                isError = true;
                break;
			end 
			Ares2.MessageBox("竞技挑战中。。。")
			Ares2.Sleep(1)
            retryTimes = retryTimes + 1;
		end
        
        if isError then
            Ares2.MessageBox("竞技出错，进行下一任务");
            Ares2.TapFormFeature(feature.竞技.关闭);
            break;
        else
            Ares2.Sleep(2)
		end 
        
    end
    
	Ares2.TapFormFeature(feature.竞技.关闭);
end

function ShiLianTa()
    
	-- 点击试炼塔图标
	Ares2.TapFormFeature(feature.试炼塔.图标);
    Ares2.MessageBox("寻路中");
    Ares2.Sleep(5);
    
    
	Ares2.TapFormFeature(feature.试炼塔.挑战);
    
    local finish = false;
    
    while true do
		Ares2.MessageBox("挑战中");
        if  CheckIsGameIndexPage() then
            break;
		end 
        
        if Ares2.Find.MultiColor(feature.试炼塔.通关提醒) then
			Ares2.TapFormFeature(feature.试炼塔.关闭通关提醒);
			break;
		end
    end
    
end
-- 野战
function YeZhan()
    -- 开始循环匹配
    while true do
        -- 点野战按钮
		local vip6 = Ares2.Find.MultiColor(feature.野战.图标Vip6,true);
		local vip6 = Ares2.Find.MultiColor(feature.野战.图标Vip7,true);
        Ares2.Sleep(1);
        
        -- 滑倒最简单的那个
		Ares2.Swipe(360,880,360,540,4,1);
        
        Ares2.Sleep(2);
        
        -- 点击挑战按钮
        Ares2.TapFormFeature(feature.野战.挑战);
        
        -- 检测是否已经完成了
		if Ares2.Find.MultiColor(feature.野战.全部完成,true) == true then
            Ares2.MessageBox("野战已经完成")
			-- 关闭
			Ares2.TapFormFeature(feature.system.back2);
            break;
		end 
		
		local retryTimes = 1;
        local isBreak = false;
        
        
        while Ares2.Find.MultiColor(feature.野战.跳过,true) == false do
            if retryTimes >= 20 then
                isBreak = true;
				Ares2.MessageBox("野战挑战异常")
                break;
			end
            Ares2.MessageBox("野战寻路中。。。")
            retryTimes = retryTimes + 1;
        end
        
        if isBreak == true then 
			Ares.MessageBox("野战挑战异常,进行下一任务")
            break;
		end 
        
        
        -- 胜利或失败的确定按钮
        
        Ares2.TapFormFeature(feature.野战.关闭结果提示);
        
		-- 等待返回游戏首页
        
        while CheckIsGameIndexPage() == false do
             Ares2.MessageBox("等待野战结束。。。");
             Ares2.Sleep();
        end
        
    end
end
function FuBenZhengHeBan()
    
	Ares2.TapFormFeature(feature.副本.图标);
    while true do
        local isFinish = true;
        
        -- 1、装备副本
		if checkgetselected("task_zhuangbeifuben") == true then
            -- 点击副本按钮-- 寻路进入装备副本
			while IsFuBenIndex() == false do
				Ares2.TapFormFeature(feature.副本.图标);
				Ares2.MessageBox("副本寻路中");
			end
			 -- 检测装备副本能不能打
			Ares2.TapFormFeature(feature.副本.装备副本.图标);
            Ares2.Sleep(2);
			
			if Ares2.Find.MultiColor(feature.副本.装备副本.可以挑战) then
				isFinish = false;
				-- 切换最简单的副本
				Ares.TapFormFeature(feature.副本.装备副本.副本类别);
				-- 切换到噩梦副本
				Ares.TapFormFeature(feature.副本.装备副本.难度);
				-- 开打
				Ares.TapFormFeature(feature.副本.装备副本.开始挑战);
				
				-- 检测装备副本是否完成
				while IsFuBenIndex() == false do
					Ares2.MessageBox("装备副本挑战中")
				end
			end
		end	        
        
		
        
		-- 2、魂卡副本
        if checkgetselected("task_hunkafuben") == true then
			-- 点击副本按钮-- 寻路进入装备副本
			while IsFuBenIndex() == false do
				Ares2.TapFormFeature(feature.副本.图标);
				Ares2.MessageBox("副本寻路中");
			end
			Ares2.TapFormFeature(feature.副本.魂卡副本.图标);
			Ares2.Sleep(2);
			
			if Ares2.Find.MultiColor(feature.副本.魂卡副本.可以挑战) then
				isFinish = false;
				-- 切换最简单的副本
				Ares.TapFormFeature(feature.副本.魂卡副本.副本类别);
				-- 切换到噩梦副本
				Ares.TapFormFeature(feature.副本.魂卡副本.难度);
				-- 开打
				Ares.TapFormFeature(feature.副本.魂卡副本.开始挑战);
				
				-- 检测装备副本是否完成
				while IsFuBenIndex() == false do
					Ares2.MessageBox("魂卡副本挑战中")
				end
			end
        end
        
        
			
		-- 3、经验副本
		if checkgetselected("task_jingyanfuben") == true then
			-- 点击副本按钮-- 寻路进入装备副本
			while IsFuBenIndex() == false do
				Ares2.TapFormFeature(feature.副本.图标);
				Ares2.MessageBox("副本寻路中");
			end
			Ares2.TapFormFeature(feature.副本.经验副本.图标);
			Ares2.Sleep(2);
			if Ares2.Find.MultiColor(feature.副本.经验副本.可以挑战) then
				isFinish = false;
				-- 检测是不是CD中
				if Ares2.Find.MultiColor(feature.副本.经验副本.CD中) == true then
					Ares2.MessageBox("经验副本CD中")
				else 
					-- 开打
					Ares.TapFormFeature(feature.副本.经验副本.开始挑战);
					Ares.TapFormFeature(feature.副本.经验副本.开始挑战确定);
					 
					
					-- 检测是不是在挑战中
					while Ares2.Find.MultiColor(feature.副本.经验副本.挑战中定位点1) == true do
						Ares2.MessageBox("经验副本挑战中")
					end
					Ares.TapFormFeature(feature.副本.经验副本.离开确定);
				end
			end
        end
        
		-- 4、雷霆岛
		if checkgetselected("task_jingyanfuben") == true then
            -- 点击副本按钮-- 寻路进入装备副本
			while IsFuBenIndex() == false do
				Ares2.TapFormFeature(feature.副本.图标);
				Ares2.MessageBox("副本寻路中");
			end
			Ares2.TapFormFeature(feature.副本.雷霆岛.图标);
			Ares2.Sleep(2);
			if Ares2.Find.MultiColor(feature.副本.雷霆岛.可以挑战) then
				isFinish = false;
				-- 开打
				Ares.TapFormFeature(feature.副本.雷霆岛.开始挑战);
				Ares.TapFormFeature(feature.副本.雷霆岛.开始挑战确定);
				
				-- 检测是不是在挑战中
				
				-- 检测装备副本是否完成
				while IsFuBenIndex() == false do
					Ares2.MessageBox("雷霆岛副本挑战中")
				end
			end
        end
        
        if isFinish == true then
			Ares2.MessageBox("副本全部挑战完毕")
			Ares.TapFormFeature(feature.副本.关闭);
            break;
		end
        
    end
end


function IsFuBenIndex()
    local pos1 = Ares2.Find.MultiColor(feature.副本.定位点1);
    local pos2 = Ares2.Find.MultiColor(feature.副本.定位点2);
    if	pos1 and pos2 then
		return true;
	else
		return false;
	end
end
function ChangeAccount()
	KillGame();
	sleep(3000);
	if checkgetselected("multiAccount") then
        if Global.ChangeXiaoQiAccount == true then
            return "XiaoQiLogin";
        else
			return "OpenGame";
		end  
	else
		return "OpenGame"
	end
end
-- 批量熔炼
function PiLiangRongLian()
    -- 点击背包按钮
    Ares2.TapFormFeature(feature.背包.图标);

    Ares2.TapFormFeature(feature.背包.背包页);
    
    -- 点击批量熔炼按钮
    Ares2.TapFormFeature(feature.背包.批量熔炼.图标)
    
    
	if Ares2.Find.MultiColor(feature.背包.批量熔炼.是否有装备) then
        -- 点击熔炼按钮
		Ares2.TapFormFeature(feature.背包.批量熔炼.熔炼)
	end
    
    
    -- 点击关闭按钮
    Ares2.TapFormFeature(feature.背包.批量熔炼.关闭熔炼)
    
    
	-- 关闭背包框
	Ares2.TapFormFeature(feature.system.back2);
end
-- 物品拍卖
function WuPinPaiMai()
	-- 打开背包
	Ares2.TapFormFeature(feature.背包.图标);
    

    Ares2.TapFormFeature(feature.背包.背包页);
   
	-- 验证第4个物品是不是拍品
    
    if Ares2.Find.MultiColor(feature.背包.拍卖.物品4可用,true) or Ares2.Find.MultiColor(feature.背包.拍卖.物品4过期,true) then
        
        Ares2.TapFormFeature(feature.背包.拍卖.使用);
        while true do
			if Ares2.Find.MultiColor(feature.背包.拍卖.批量未完成) then
                Ares2.TapFormFeature(feature.背包.拍卖.批量拿去拍卖);
			elseif Ares2.Find.MultiColor(feature.背包.拍卖.批量过期) then
                Ares2.TapFormFeature(feature.背包.拍卖.批量自己使用);
            else
                Ares2.MessageBox("拍卖处理完成");
                -- 关闭拍卖框
                Ares2.TapFormFeature(feature.背包.拍卖.关闭批量拍卖);
                -- 关闭背包框
                Ares2.TapFormFeature(feature.system.back2);
                break;
            end
       end
        
	else
        while true do
            local isBreak = true;
            if Ares2.Find.MultiColor(feature.背包.拍卖.物品1可用,true) then
				Ares2.TapFormFeature(feature.背包.拍卖.使用);
                Ares2.TapFormFeature(feature.背包.拍卖.单个拍卖);
                isBreak = false;
			end
            
            if Ares2.Find.MultiColor(feature.背包.拍卖.物品1过期,true) then 
				Ares2.TapFormFeature(feature.背包.拍卖.使用);
                Ares2.TapFormFeature(feature.背包.拍卖.单个自己使用);
                isBreak = false;
			end  
            
            if	isBreak then
				break;
            end
        end
		Ares2.MessageBox("拍卖处理完成");
		-- 关闭背包框
		Ares2.TapFormFeature(feature.system.back2);
	end
end
-- 人物升级
function RenWuShengJi()
    -- 点开经验池
    Ares2.TapFormFeature(feature.task.jingyanchi.icon);
    
    local retryTimes = 0;
    
    while true do
        if retryTimes > 20 then
            Ares2.MessageBox("人物升级次数过多，停止升级");
			Ares2.TapFormFeature(feature.system.back2);
            break;
		end
		local a = Ares2.Find.MultiColor(feature.task.jingyanchi.shengji.juese1,true);
		local b = Ares2.Find.MultiColor(feature.task.jingyanchi.shengji.juese2,true);
		local c = Ares2.Find.MultiColor(feature.task.jingyanchi.shengji.juese3,true);
		local d = Ares2.Find.MultiColor(feature.task.jingyanchi.shengji.juese4,true);
		local e = Ares2.Find.MultiColor(feature.task.jingyanchi.shengji.juese5,true);
        retryTimes = retryTimes + 1;
        if a == false and b == false and c == false and d == false and e == false then 
            Ares2.MessageBox("人物升级完成");
            -- 返回
			Ares2.TapFormFeature(feature.system.back2);
            
            break;
		end 
    end
end
-- 角色加点
function JueSeJiaDian()
    -- 打开角色
    Ares.TapFormFeature(feature.角色.图标);
    Ares2.Sleep(2);
    
    Ares.TapFormFeature(feature.角色.图标);
    Ares2.Sleep(2);
    
    for i=1,5,1 do
        local x = 130 + (i - 1) * 122;
        -- 点击人物头像
        Ares2.Tap(x,212)
        Ares2.Sleep(1);
        
        -- 判断信息页签
        if Ares2.Find.MultiColor(feature.角色.信息.可操作,true) then
            -- 一键装备
            Ares2.TapFormFeature(feature.角色.信息.一键装备);
		end
        
        -- 判断加点页签
        if Ares2.Find.MultiColor(feature.角色.加点.可操作,true) then
            -- 点击推荐
			Ares2.TapFormFeature(feature.角色.加点.推荐);
			-- 点击保存
			Ares2.TapFormFeature(feature.角色.加点.保存);
		end
    end
 
    Ares2.TapFormFeature(feature.system.back2);
		
    Ares2.MessageBox("角色加点操作完毕",2);
    
end
-- 强化装备
function ZhuangBeiQiangHua()
    -- 点开锻造
    Ares2.TapFormFeature(feature.锻造.图标);
    -- 点开强化tab页
    Ares2.TapFormFeature(feature.锻造.强化.图标);
    
	local retryTimes = 0;
    
	while true do
        
		if retryTimes > 20 then
            Ares2.MessageBox("强化次数超过上限，停止强化");
            break;
		end
        
        -- 验证有没有养成礼包
        if Ares2.Find.MultiColor(feature.yangchenglibao.icon,true) then
            Ares2.Sleep(2);
		end;
        
        -- 验证能不能强化
        -- 1.没有强化石了
        if Ares2.Find.SingleColor(feature.锻造.强化.无强化石) then
            Ares2.MessageBox("没有强化石了");
            break;
        end
        -- 2.等级不够了
        if Ares2.Find.MultiColor(feature.锻造.强化.等级不足) == false then
            Ares2.MessageBox("强化等级不足");
            break;
		end
        
		-- 进行强化
		Ares2.TapFormFeature(feature.锻造.强化.开始强化);
        
        -- 验证有没有进化按钮
        Ares2.Find.MultiColor(feature.锻造.强化.突破,true);
        
        retryTimes = retryTimes + 1;
    end 
    
    
	-- 关闭强化
	Ares2.TapFormFeature(feature.system.back2);
end
